function getDefaultExportFromCjs(w){return w&&w.__esModule&&Object.prototype.hasOwnProperty.call(w,"default")?w.default:w}var svga_min={exports:{}},hasRequiredSvga_min;function requireSvga_min(){return hasRequiredSvga_min||(hasRequiredSvga_min=1,function(module,exports){(function(w,b){module.exports=b()})(window,function(){return function(w){function b(f){if(y[f])return y[f].exports;var c=y[f]={i:f,l:!1,exports:{}};return w[f].call(c.exports,c,c.exports,b),c.l=!0,c.exports}var y={};return b.m=w,b.c=y,b.d=function(f,c,h){b.o(f,c)||Object.defineProperty(f,c,{enumerable:!0,get:h})},b.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},b.t=function(f,c){if(1&c&&(f=b(f)),8&c||4&c&&typeof f=="object"&&f&&f.__esModule)return f;var h=Object.create(null);if(b.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:f}),2&c&&typeof f!="string")for(var a in f)b.d(h,a,(function(s){return f[s]}).bind(null,a));return h},b.n=function(f){var c=f&&f.__esModule?function(){return f.default}:function(){return f};return b.d(c,"a",c),c},b.o=function(f,c){return Object.prototype.hasOwnProperty.call(f,c)},b.p="",b(b.s=64)}([function(w,b,y){var f,c,h=w.exports=y(1),a=y(20);h.codegen=y(47),h.fetch=y(48),h.path=y(49),h.fs=h.inquire("fs"),h.toArray=function(i){if(i){for(var r=Object.keys(i),u=new Array(r.length),o=0;o<r.length;)u[o]=i[r[o++]];return u}return[]},h.toObject=function(i){for(var r={},u=0;u<i.length;){var o=i[u++],l=i[u++];l!==void 0&&(r[o]=l)}return r};var s=/\\/g,t=/"/g;h.isReserved=function(i){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(i)},h.safeProp=function(i){return!/^[$\w_]+$/.test(i)||h.isReserved(i)?'["'+i.replace(s,"\\\\").replace(t,'\\"')+'"]':"."+i},h.ucFirst=function(i){return i.charAt(0).toUpperCase()+i.substring(1)};var n=/_([a-z])/g;h.camelCase=function(i){return i.substring(0,1)+i.substring(1).replace(n,function(r,u){return u.toUpperCase()})},h.compareFieldsById=function(i,r){return i.id-r.id},h.decorateType=function(i,r){if(i.$type)return r&&i.$type.name!==r&&(h.decorateRoot.remove(i.$type),i.$type.name=r,h.decorateRoot.add(i.$type)),i.$type;f||(f=y(22));var u=new f(r||i.name);return h.decorateRoot.add(u),u.ctor=i,Object.defineProperty(i,"$type",{value:u,enumerable:!1}),Object.defineProperty(i.prototype,"$type",{value:u,enumerable:!1}),u};var e=0;h.decorateEnum=function(i){if(i.$type)return i.$type;c||(c=y(2));var r=new c("Enum"+e++,i);return h.decorateRoot.add(r),Object.defineProperty(i,"$type",{value:r,enumerable:!1}),r},h.setProperty=function(i,r,u){if(typeof i!="object")throw TypeError("dst must be an object");if(!r)throw TypeError("path must be specified");return function o(l,p,g){var v=p.shift();if(p.length>0)l[v]=o(l[v]||{},p,g);else{var k=l[v];k&&(g=[].concat(k).concat(g)),l[v]=g}return l}(i,r=r.split("."),u)},Object.defineProperty(h,"decorateRoot",{get:function(){return a.decorated||(a.decorated=new(y(30)))}})},function(w,b,y){(function(f){function c(s,t,n){for(var e=Object.keys(t),i=0;i<e.length;++i)s[e[i]]!==void 0&&n||(s[e[i]]=t[e[i]]);return s}function h(s){function t(n,e){if(!(this instanceof t))return new t(n,e);Object.defineProperty(this,"message",{get:function(){return n}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:new Error().stack||""}),e&&c(this,e)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return s}}),t.prototype.toString=function(){return this.name+": "+this.message},t}var a=b;a.asPromise=y(17),a.base64=y(38),a.EventEmitter=y(39),a.float=y(40),a.inquire=y(18),a.utf8=y(41),a.pool=y(42),a.LongBits=y(43),a.isNode=!!(f!==void 0&&f&&f.process&&f.process.versions&&f.process.versions.node),a.global=a.isNode&&f||typeof window<"u"&&window||typeof self<"u"&&self||this,a.emptyArray=Object.freeze?Object.freeze([]):[],a.emptyObject=Object.freeze?Object.freeze({}):{},a.isInteger=Number.isInteger||function(s){return typeof s=="number"&&isFinite(s)&&Math.floor(s)===s},a.isString=function(s){return typeof s=="string"||s instanceof String},a.isObject=function(s){return s&&typeof s=="object"},a.isset=a.isSet=function(s,t){var n=s[t];return!(n==null||!s.hasOwnProperty(t))&&(typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},a.Buffer=function(){try{var s=a.inquire("buffer").Buffer;return s.prototype.utf8Write?s:null}catch{return null}}(),a._Buffer_from=null,a._Buffer_allocUnsafe=null,a.newBuffer=function(s){return typeof s=="number"?a.Buffer?a._Buffer_allocUnsafe(s):new a.Array(s):a.Buffer?a._Buffer_from(s):typeof Uint8Array>"u"?s:new Uint8Array(s)},a.Array=typeof Uint8Array<"u"?Uint8Array:Array,a.Long=a.global.dcodeIO&&a.global.dcodeIO.Long||a.global.Long||a.inquire("long"),a.key2Re=/^true|false|0|1$/,a.key32Re=/^-?(?:0|[1-9][0-9]*)$/,a.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,a.longToHash=function(s){return s?a.LongBits.from(s).toHash():a.LongBits.zeroHash},a.longFromHash=function(s,t){var n=a.LongBits.fromHash(s);return a.Long?a.Long.fromBits(n.lo,n.hi,t):n.toNumber(!!t)},a.merge=c,a.lcFirst=function(s){return s.charAt(0).toLowerCase()+s.substring(1)},a.newError=h,a.ProtocolError=h("ProtocolError"),a.oneOfGetter=function(s){for(var t={},n=0;n<s.length;++n)t[s[n]]=1;return function(){for(var e=Object.keys(this),i=e.length-1;i>-1;--i)if(t[e[i]]===1&&this[e[i]]!==void 0&&this[e[i]]!==null)return e[i]}},a.oneOfSetter=function(s){return function(t){for(var n=0;n<s.length;++n)s[n]!==t&&delete this[s[n]]}},a.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},a._configure=function(){var s=a.Buffer;s?(a._Buffer_from=s.from!==Uint8Array.from&&s.from||function(t,n){return new s(t,n)},a._Buffer_allocUnsafe=s.allocUnsafe||function(t){return new s(t)}):a._Buffer_from=a._Buffer_allocUnsafe=null}}).call(this,y(37))},function(w,b,y){function f(s,t,n,e,i){if(c.call(this,s,n),t&&typeof t!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=e,this.comments=i||{},this.reserved=void 0,t)for(var r=Object.keys(t),u=0;u<r.length;++u)typeof t[r[u]]=="number"&&(this.valuesById[this.values[r[u]]=t[r[u]]]=r[u])}w.exports=f;var c=y(3);((f.prototype=Object.create(c.prototype)).constructor=f).className="Enum";var h=y(6),a=y(0);f.fromJSON=function(s,t){var n=new f(s,t.values,t.options,t.comment,t.comments);return n.reserved=t.reserved,n},f.prototype.toJSON=function(s){var t=!!s&&!!s.keepComments;return a.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},f.prototype.add=function(s,t,n){if(!a.isString(s))throw TypeError("name must be a string");if(!a.isInteger(t))throw TypeError("id must be an integer");if(this.values[s]!==void 0)throw Error("duplicate name '"+s+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(s))throw Error("name '"+s+"' is reserved in "+this);if(this.valuesById[t]!==void 0){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[s]=t}else this.valuesById[this.values[s]=t]=s;return this.comments[s]=n||null,this},f.prototype.remove=function(s){if(!a.isString(s))throw TypeError("name must be a string");var t=this.values[s];if(t==null)throw Error("name '"+s+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[s],delete this.comments[s],this},f.prototype.isReservedId=function(s){return h.isReservedId(this.reserved,s)},f.prototype.isReservedName=function(s){return h.isReservedName(this.reserved,s)}},function(w,b,y){function f(a,s){if(!h.isString(a))throw TypeError("name must be a string");if(s&&!h.isObject(s))throw TypeError("options must be an object");this.options=s,this.parsedOptions=null,this.name=a,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}w.exports=f,f.className="ReflectionObject";var c,h=y(0);Object.defineProperties(f.prototype,{root:{get:function(){for(var a=this;a.parent!==null;)a=a.parent;return a}},fullName:{get:function(){for(var a=[this.name],s=this.parent;s;)a.unshift(s.name),s=s.parent;return a.join(".")}}}),f.prototype.toJSON=function(){throw Error()},f.prototype.onAdd=function(a){this.parent&&this.parent!==a&&this.parent.remove(this),this.parent=a,this.resolved=!1;var s=a.root;s instanceof c&&s._handleAdd(this)},f.prototype.onRemove=function(a){var s=a.root;s instanceof c&&s._handleRemove(this),this.parent=null,this.resolved=!1},f.prototype.resolve=function(){return this.resolved?this:(this.root instanceof c&&(this.resolved=!0),this)},f.prototype.getOption=function(a){if(this.options)return this.options[a]},f.prototype.setOption=function(a,s,t){return t&&this.options&&this.options[a]!==void 0||((this.options||(this.options={}))[a]=s),this},f.prototype.setParsedOption=function(a,s,t){this.parsedOptions||(this.parsedOptions=[]);var n=this.parsedOptions;if(t){var e=n.find(function(u){return Object.prototype.hasOwnProperty.call(u,a)});if(e){var i=e[a];h.setProperty(i,t,s)}else(e={})[a]=h.setProperty({},t,s),n.push(e)}else{var r={};r[a]=s,n.push(r)}return this},f.prototype.setOptions=function(a,s){if(a)for(var t=Object.keys(a),n=0;n<t.length;++n)this.setOption(t[n],a[t[n]],s);return this},f.prototype.toString=function(){var a=this.constructor.className,s=this.fullName;return s.length?a+" "+s:a},f._configure=function(a){c=a}},function(w,b,y){function f(e,i,r,u,o,l,p){if(t.isObject(u)?(p=o,l=u,u=o=void 0):t.isObject(o)&&(p=l,l=o,o=void 0),c.call(this,e,l),!t.isInteger(i)||i<0)throw TypeError("id must be a non-negative integer");if(!t.isString(r))throw TypeError("type must be a string");if(u!==void 0&&!n.test(u=u.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(o!==void 0&&!t.isString(o))throw TypeError("extend must be a string");this.rule=u&&u!=="optional"?u:void 0,this.type=r,this.id=i,this.extend=o||void 0,this.required=u==="required",this.optional=!this.required,this.repeated=u==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!t.Long&&s.long[r]!==void 0,this.bytes=r==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=p}w.exports=f;var c=y(3);((f.prototype=Object.create(c.prototype)).constructor=f).className="Field";var h,a=y(2),s=y(7),t=y(0),n=/^required|optional|repeated$/;f.fromJSON=function(e,i){return new f(e,i.id,i.type,i.rule,i.extend,i.options,i.comment)},Object.defineProperty(f.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}}),f.prototype.setOption=function(e,i,r){return e==="packed"&&(this._packed=null),c.prototype.setOption.call(this,e,i,r)},f.prototype.toJSON=function(e){var i=!!e&&!!e.keepComments;return t.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",i?this.comment:void 0])},f.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=s.defaults[this.type])===void 0&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof h?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof a&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(this.options.packed!==!0&&(this.options.packed===void 0||!this.resolvedType||this.resolvedType instanceof a)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=t.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var e;t.base64.test(this.typeDefault)?t.base64.decode(this.typeDefault,e=t.newBuffer(t.base64.length(this.typeDefault)),0):t.utf8.write(this.typeDefault,e=t.newBuffer(t.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=t.emptyObject:this.repeated?this.defaultValue=t.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof h&&(this.parent.ctor.prototype[this.name]=this.defaultValue),c.prototype.resolve.call(this)},f.d=function(e,i,r,u){return typeof i=="function"?i=t.decorateType(i).name:i&&typeof i=="object"&&(i=t.decorateEnum(i).name),function(o,l){t.decorateType(o.constructor).add(new f(l,e,i,r,{default:u}))}},f._configure=function(e){h=e}},function(w,b,y){Object.defineProperty(b,"__esModule",{value:!0}),b.BezierPath=function f(c,h,a){(function(s,t){if(!(s instanceof t))throw new TypeError("Cannot call a class as a function")})(this,f),this._d=c,this._transform=h,this._styles=a}},function(w,b,y){function f(r,u){if(r&&r.length){for(var o={},l=0;l<r.length;++l)o[r[l].name]=r[l].toJSON(u);return o}}function c(r,u){a.call(this,r,u),this.nested=void 0,this._nestedArray=null}function h(r){return r._nestedArray=null,r}w.exports=c;var a=y(3);((c.prototype=Object.create(a.prototype)).constructor=c).className="Namespace";var s,t,n,e=y(4),i=y(0);c.fromJSON=function(r,u){return new c(r,u.options).addJSON(u.nested)},c.arrayToJSON=f,c.isReservedId=function(r,u){if(r){for(var o=0;o<r.length;++o)if(typeof r[o]!="string"&&r[o][0]<=u&&r[o][1]>u)return!0}return!1},c.isReservedName=function(r,u){if(r){for(var o=0;o<r.length;++o)if(r[o]===u)return!0}return!1},Object.defineProperty(c.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=i.toArray(this.nested))}}),c.prototype.toJSON=function(r){return i.toObject(["options",this.options,"nested",f(this.nestedArray,r)])},c.prototype.addJSON=function(r){if(r)for(var u,o=Object.keys(r),l=0;l<o.length;++l)u=r[o[l]],this.add((u.fields!==void 0?s.fromJSON:u.values!==void 0?n.fromJSON:u.methods!==void 0?t.fromJSON:u.id!==void 0?e.fromJSON:c.fromJSON)(o[l],u));return this},c.prototype.get=function(r){return this.nested&&this.nested[r]||null},c.prototype.getEnum=function(r){if(this.nested&&this.nested[r]instanceof n)return this.nested[r].values;throw Error("no such enum: "+r)},c.prototype.add=function(r){if(!(r instanceof e&&r.extend!==void 0||r instanceof s||r instanceof n||r instanceof t||r instanceof c))throw TypeError("object must be a valid nested object");if(this.nested){var u=this.get(r.name);if(u){if(!(u instanceof c&&r instanceof c)||u instanceof s||u instanceof t)throw Error("duplicate name '"+r.name+"' in "+this);for(var o=u.nestedArray,l=0;l<o.length;++l)r.add(o[l]);this.remove(u),this.nested||(this.nested={}),r.setOptions(u.options,!0)}}else this.nested={};return this.nested[r.name]=r,r.onAdd(this),h(this)},c.prototype.remove=function(r){if(!(r instanceof a))throw TypeError("object must be a ReflectionObject");if(r.parent!==this)throw Error(r+" is not a member of "+this);return delete this.nested[r.name],Object.keys(this.nested).length||(this.nested=void 0),r.onRemove(this),h(this)},c.prototype.define=function(r,u){if(i.isString(r))r=r.split(".");else if(!Array.isArray(r))throw TypeError("illegal path");if(r&&r.length&&r[0]==="")throw Error("path must be relative");for(var o=this;r.length>0;){var l=r.shift();if(o.nested&&o.nested[l]){if(!((o=o.nested[l])instanceof c))throw Error("path conflicts with non-namespace objects")}else o.add(o=new c(l))}return u&&o.addJSON(u),o},c.prototype.resolveAll=function(){for(var r=this.nestedArray,u=0;u<r.length;)r[u]instanceof c?r[u++].resolveAll():r[u++].resolve();return this.resolve()},c.prototype.lookup=function(r,u,o){if(typeof u=="boolean"?(o=u,u=void 0):u&&!Array.isArray(u)&&(u=[u]),i.isString(r)&&r.length){if(r===".")return this.root;r=r.split(".")}else if(!r.length)return this;if(r[0]==="")return this.root.lookup(r.slice(1),u);var l=this.get(r[0]);if(l){if(r.length===1){if(!u||u.indexOf(l.constructor)>-1)return l}else if(l instanceof c&&(l=l.lookup(r.slice(1),u,!0)))return l}else for(var p=0;p<this.nestedArray.length;++p)if(this._nestedArray[p]instanceof c&&(l=this._nestedArray[p].lookup(r,u,!0)))return l;return this.parent===null||o?null:this.parent.lookup(r,u)},c.prototype.lookupType=function(r){var u=this.lookup(r,[s]);if(!u)throw Error("no such type: "+r);return u},c.prototype.lookupEnum=function(r){var u=this.lookup(r,[n]);if(!u)throw Error("no such Enum '"+r+"' in "+this);return u},c.prototype.lookupTypeOrEnum=function(r){var u=this.lookup(r,[s,n]);if(!u)throw Error("no such Type or Enum '"+r+"' in "+this);return u},c.prototype.lookupService=function(r){var u=this.lookup(r,[t]);if(!u)throw Error("no such Service '"+r+"' in "+this);return u},c._configure=function(r,u,o){s=r,t=u,n=o}},function(w,b,y){function f(s,t){var n=0,e={};for(t|=0;n<s.length;)e[a[n+t]]=s[n++];return e}var c=b,h=y(0),a=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];c.basic=f([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),c.defaults=f([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",h.emptyArray,null]),c.long=f([0,0,0,1,1],7),c.mapKey=f([0,0,0,5,5,0,0,0,1,1,0,2],2),c.packed=f([1,5,0,0,0,5,5,0,0,0,1,1,0])},function(w,b,y){function f(s,t){return Object.prototype.hasOwnProperty.call(s,t)}var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";b.assign=function(s){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(var e in n)f(n,e)&&(s[e]=n[e])}}return s},b.shrinkBuf=function(s,t){return s.length===t?s:s.subarray?s.subarray(0,t):(s.length=t,s)};var h={arraySet:function(s,t,n,e,i){if(t.subarray&&s.subarray)s.set(t.subarray(n,n+e),i);else for(var r=0;r<e;r++)s[i+r]=t[n+r]},flattenChunks:function(s){var t,n,e,i,r,u;for(e=0,t=0,n=s.length;t<n;t++)e+=s[t].length;for(u=new Uint8Array(e),i=0,t=0,n=s.length;t<n;t++)r=s[t],u.set(r,i),i+=r.length;return u}},a={arraySet:function(s,t,n,e,i){for(var r=0;r<e;r++)s[i+r]=t[n+r]},flattenChunks:function(s){return[].concat.apply([],s)}};b.setTyped=function(s){s?(b.Buf8=Uint8Array,b.Buf16=Uint16Array,b.Buf32=Int32Array,b.assign(b,h)):(b.Buf8=Array,b.Buf16=Array,b.Buf32=Array,b.assign(b,a))},b.setTyped(c)},function(w,b,y){function f(v,k,m){this.fn=v,this.len=k,this.next=void 0,this.val=m}function c(){}function h(v){this.head=v.head,this.tail=v.tail,this.len=v.len,this.next=v.states}function a(){this.len=0,this.head=new f(c,0,0),this.tail=this.head,this.states=null}function s(v,k,m){k[m]=255&v}function t(v,k){this.len=v,this.next=void 0,this.val=k}function n(v,k,m){for(;v.hi;)k[m++]=127&v.lo|128,v.lo=(v.lo>>>7|v.hi<<25)>>>0,v.hi>>>=7;for(;v.lo>127;)k[m++]=127&v.lo|128,v.lo=v.lo>>>7;k[m++]=v.lo}function e(v,k,m){k[m]=255&v,k[m+1]=v>>>8&255,k[m+2]=v>>>16&255,k[m+3]=v>>>24}w.exports=a;var i,r=y(1),u=r.LongBits,o=r.base64,l=r.utf8,p=function(){return r.Buffer?function(){return(a.create=function(){return new i})()}:function(){return new a}};a.create=p(),a.alloc=function(v){return new r.Array(v)},r.Array!==Array&&(a.alloc=r.pool(a.alloc,r.Array.prototype.subarray)),a.prototype._push=function(v,k,m){return this.tail=this.tail.next=new f(v,k,m),this.len+=k,this},t.prototype=Object.create(f.prototype),t.prototype.fn=function(v,k,m){for(;v>127;)k[m++]=127&v|128,v>>>=7;k[m]=v},a.prototype.uint32=function(v){return this.len+=(this.tail=this.tail.next=new t((v>>>=0)<128?1:v<16384?2:v<2097152?3:v<268435456?4:5,v)).len,this},a.prototype.int32=function(v){return v<0?this._push(n,10,u.fromNumber(v)):this.uint32(v)},a.prototype.sint32=function(v){return this.uint32((v<<1^v>>31)>>>0)},a.prototype.uint64=function(v){var k=u.from(v);return this._push(n,k.length(),k)},a.prototype.int64=a.prototype.uint64,a.prototype.sint64=function(v){var k=u.from(v).zzEncode();return this._push(n,k.length(),k)},a.prototype.bool=function(v){return this._push(s,1,v?1:0)},a.prototype.fixed32=function(v){return this._push(e,4,v>>>0)},a.prototype.sfixed32=a.prototype.fixed32,a.prototype.fixed64=function(v){var k=u.from(v);return this._push(e,4,k.lo)._push(e,4,k.hi)},a.prototype.sfixed64=a.prototype.fixed64,a.prototype.float=function(v){return this._push(r.float.writeFloatLE,4,v)},a.prototype.double=function(v){return this._push(r.float.writeDoubleLE,8,v)};var g=r.Array.prototype.set?function(v,k,m){k.set(v,m)}:function(v,k,m){for(var O=0;O<v.length;++O)k[m+O]=v[O]};a.prototype.bytes=function(v){var k=v.length>>>0;if(!k)return this._push(s,1,0);if(r.isString(v)){var m=a.alloc(k=o.length(v));o.decode(v,m,0),v=m}return this.uint32(k)._push(g,k,v)},a.prototype.string=function(v){var k=l.length(v);return k?this.uint32(k)._push(l.write,k,v):this._push(s,1,0)},a.prototype.fork=function(){return this.states=new h(this),this.head=this.tail=new f(c,0,0),this.len=0,this},a.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new f(c,0,0),this.len=0),this},a.prototype.ldelim=function(){var v=this.head,k=this.tail,m=this.len;return this.reset().uint32(m),m&&(this.tail.next=v.next,this.tail=k,this.len+=m),this},a.prototype.finish=function(){for(var v=this.head.next,k=this.constructor.alloc(this.len),m=0;v;)v.fn(v.val,k,m),m+=v.len,v=v.next;return k},a._configure=function(v){i=v,a.create=p(),i._configure()}},function(w,b,y){function f(o,l){return RangeError("index out of range: "+o.pos+" + "+(l||1)+" > "+o.len)}function c(o){this.buf=o,this.pos=0,this.len=o.length}function h(){var o=new e(0,0),l=0;if(!(this.len-this.pos>4)){for(;l<3;++l){if(this.pos>=this.len)throw f(this);if(o.lo=(o.lo|(127&this.buf[this.pos])<<7*l)>>>0,this.buf[this.pos++]<128)return o}return o.lo=(o.lo|(127&this.buf[this.pos++])<<7*l)>>>0,o}for(;l<4;++l)if(o.lo=(o.lo|(127&this.buf[this.pos])<<7*l)>>>0,this.buf[this.pos++]<128)return o;if(o.lo=(o.lo|(127&this.buf[this.pos])<<28)>>>0,o.hi=(o.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return o;if(l=0,this.len-this.pos>4){for(;l<5;++l)if(o.hi=(o.hi|(127&this.buf[this.pos])<<7*l+3)>>>0,this.buf[this.pos++]<128)return o}else for(;l<5;++l){if(this.pos>=this.len)throw f(this);if(o.hi=(o.hi|(127&this.buf[this.pos])<<7*l+3)>>>0,this.buf[this.pos++]<128)return o}throw Error("invalid varint encoding")}function a(o,l){return(o[l-4]|o[l-3]<<8|o[l-2]<<16|o[l-1]<<24)>>>0}function s(){if(this.pos+8>this.len)throw f(this,8);return new e(a(this.buf,this.pos+=4),a(this.buf,this.pos+=4))}w.exports=c;var t,n=y(1),e=n.LongBits,i=n.utf8,r=typeof Uint8Array<"u"?function(o){if(o instanceof Uint8Array||Array.isArray(o))return new c(o);throw Error("illegal buffer")}:function(o){if(Array.isArray(o))return new c(o);throw Error("illegal buffer")},u=function(){return n.Buffer?function(o){return(c.create=function(l){return n.Buffer.isBuffer(l)?new t(l):r(l)})(o)}:r};c.create=u(),c.prototype._slice=n.Array.prototype.subarray||n.Array.prototype.slice,c.prototype.uint32=function(){var o=4294967295;return function(){if(o=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(o=(o|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(o=(o|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(o=(o|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(o=(o|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return o;if((this.pos+=5)>this.len)throw this.pos=this.len,f(this,10);return o}}(),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var o=this.uint32();return o>>>1^-(1&o)|0},c.prototype.bool=function(){return this.uint32()!==0},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw f(this,4);return a(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw f(this,4);return 0|a(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw f(this,4);var o=n.float.readFloatLE(this.buf,this.pos);return this.pos+=4,o},c.prototype.double=function(){if(this.pos+8>this.len)throw f(this,4);var o=n.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,o},c.prototype.bytes=function(){var o=this.uint32(),l=this.pos,p=this.pos+o;if(p>this.len)throw f(this,o);return this.pos+=o,Array.isArray(this.buf)?this.buf.slice(l,p):l===p?new this.buf.constructor(0):this._slice.call(this.buf,l,p)},c.prototype.string=function(){var o=this.bytes();return i.read(o,0,o.length)},c.prototype.skip=function(o){if(typeof o=="number"){if(this.pos+o>this.len)throw f(this,o);this.pos+=o}else do if(this.pos>=this.len)throw f(this);while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(o){switch(o){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(o=7&this.uint32())!=4;)this.skipType(o);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+o+" at offset "+this.pos)}return this},c._configure=function(o){t=o,c.create=u(),t._configure();var l=n.Long?"toLong":"toNumber";n.merge(c.prototype,{int64:function(){return h.call(this)[l](!1)},uint64:function(){return h.call(this)[l](!0)},sint64:function(){return h.call(this).zzDecode()[l](!1)},fixed64:function(){return s.call(this)[l](!0)},sfixed64:function(){return s.call(this)[l](!1)}})}},function(w,b,y){function f(t,n,e,i){if(Array.isArray(n)||(e=n,n=void 0),h.call(this,t,e),n!==void 0&&!Array.isArray(n))throw TypeError("fieldNames must be an Array");this.oneof=n||[],this.fieldsArray=[],this.comment=i}function c(t){if(t.parent)for(var n=0;n<t.fieldsArray.length;++n)t.fieldsArray[n].parent||t.parent.add(t.fieldsArray[n])}w.exports=f;var h=y(3);((f.prototype=Object.create(h.prototype)).constructor=f).className="OneOf";var a=y(4),s=y(0);f.fromJSON=function(t,n){return new f(t,n.oneof,n.options,n.comment)},f.prototype.toJSON=function(t){var n=!!t&&!!t.keepComments;return s.toObject(["options",this.options,"oneof",this.oneof,"comment",n?this.comment:void 0])},f.prototype.add=function(t){if(!(t instanceof a))throw TypeError("field must be a Field");return t.parent&&t.parent!==this.parent&&t.parent.remove(t),this.oneof.push(t.name),this.fieldsArray.push(t),t.partOf=this,c(this),this},f.prototype.remove=function(t){if(!(t instanceof a))throw TypeError("field must be a Field");var n=this.fieldsArray.indexOf(t);if(n<0)throw Error(t+" is not a member of "+this);return this.fieldsArray.splice(n,1),(n=this.oneof.indexOf(t.name))>-1&&this.oneof.splice(n,1),t.partOf=null,this},f.prototype.onAdd=function(t){h.prototype.onAdd.call(this,t);for(var n=0;n<this.oneof.length;++n){var e=t.get(this.oneof[n]);e&&!e.partOf&&(e.partOf=this,this.fieldsArray.push(e))}c(this)},f.prototype.onRemove=function(t){for(var n,e=0;e<this.fieldsArray.length;++e)(n=this.fieldsArray[e]).parent&&n.parent.remove(n);h.prototype.onRemove.call(this,t)},f.d=function(){for(var t=new Array(arguments.length),n=0;n<arguments.length;)t[n]=arguments[n++];return function(e,i){s.decorateType(e.constructor).add(new f(i,t)),Object.defineProperty(e,i,{get:s.oneOfGetter(t),set:s.oneOfSetter(t)})}}},function(w,b,y){function f(h){if(h)for(var a=Object.keys(h),s=0;s<a.length;++s)this[a[s]]=h[a[s]]}w.exports=f;var c=y(1);f.create=function(h){return this.$type.create(h)},f.encode=function(h,a){return this.$type.encode(h,a)},f.encodeDelimited=function(h,a){return this.$type.encodeDelimited(h,a)},f.decode=function(h){return this.$type.decode(h)},f.decodeDelimited=function(h){return this.$type.decodeDelimited(h)},f.verify=function(h){return this.$type.verify(h)},f.fromObject=function(h){return this.$type.fromObject(h)},f.toObject=function(h,a){return this.$type.toObject(h,a)},f.prototype.toJSON=function(){return this.$type.toObject(this,c.toJSONOptions)}},function(w,b,y){Object.defineProperty(b,"__esModule",{value:!0}),b.Parser=void 0;var f=function(){function a(s,t){for(var n=0;n<t.length;n++){var e=t[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}}return function(s,t,n){return t&&a(s.prototype,t),n&&a(s,n),s}}(),c=y(31),h=function(a){return a&&a.__esModule?a:{default:a}}(y(50));b.Parser=function(){function a(){(function(s,t){if(!(s instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a)}return f(a,[{key:"load",value:function(s,t,n){this.loadViaWorker(s,t,n)}},{key:"loadViaWorker",value:function(s,t,n){(0,h.default)(s,function(e){var i=e.movie;i.version=e.ver;var r=e.images,u=new c.VideoEntity(i,r);t(u)},n)}}]),a}()},function(w,b,y){Object.defineProperty(b,"__esModule",{value:!0}),b.RectPath=void 0;var f=y(5);b.RectPath=function(c){function h(a,s,t,n,e,i,r){(function(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")})(this,h);var u=function(o,l){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||typeof l!="object"&&typeof l!="function"?o:l}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return u._x=a,u._y=s,u._width=t,u._height=n,u._cornerRadius=e,u._transform=i,u._styles=r,u}return function(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(a,s):a.__proto__=s)}(h,c),h}(f.BezierPath)},function(w,b,y){Object.defineProperty(b,"__esModule",{value:!0}),b.EllipsePath=void 0;var f=y(5);b.EllipsePath=function(c){function h(a,s,t,n,e,i){(function(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")})(this,h);var r=function(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||typeof o!="object"&&typeof o!="function"?u:o}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return r._x=a,r._y=s,r._radiusX=t,r._radiusY=n,r._transform=e,r._styles=i,r}return function(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(a,s):a.__proto__=s)}(h,c),h}(f.BezierPath)},function(w,b,y){Object.defineProperty(b,"__esModule",{value:!0});var f=y(34),c=JSON.parse('{"nested":{"com":{"nested":{"opensource":{"nested":{"svga":{"options":{"objc_class_prefix":"SVGAProto","java_package":"com.opensource.svgaplayer.proto"},"nested":{"MovieParams":{"fields":{"viewBoxWidth":{"type":"float","id":1},"viewBoxHeight":{"type":"float","id":2},"fps":{"type":"int32","id":3},"frames":{"type":"int32","id":4}}},"SpriteEntity":{"fields":{"imageKey":{"type":"string","id":1},"frames":{"rule":"repeated","type":"FrameEntity","id":2},"matteKey":{"type":"string","id":3}}},"AudioEntity":{"fields":{"audioKey":{"type":"string","id":1},"startFrame":{"type":"int32","id":2},"endFrame":{"type":"int32","id":3},"startTime":{"type":"int32","id":4},"totalTime":{"type":"int32","id":5}}},"Layout":{"fields":{"x":{"type":"float","id":1},"y":{"type":"float","id":2},"width":{"type":"float","id":3},"height":{"type":"float","id":4}}},"Transform":{"fields":{"a":{"type":"float","id":1},"b":{"type":"float","id":2},"c":{"type":"float","id":3},"d":{"type":"float","id":4},"tx":{"type":"float","id":5},"ty":{"type":"float","id":6}}},"ShapeEntity":{"oneofs":{"args":{"oneof":["shape","rect","ellipse"]}},"fields":{"type":{"type":"ShapeType","id":1},"shape":{"type":"ShapeArgs","id":2},"rect":{"type":"RectArgs","id":3},"ellipse":{"type":"EllipseArgs","id":4},"styles":{"type":"ShapeStyle","id":10},"transform":{"type":"Transform","id":11}},"nested":{"ShapeType":{"values":{"SHAPE":0,"RECT":1,"ELLIPSE":2,"KEEP":3}},"ShapeArgs":{"fields":{"d":{"type":"string","id":1}}},"RectArgs":{"fields":{"x":{"type":"float","id":1},"y":{"type":"float","id":2},"width":{"type":"float","id":3},"height":{"type":"float","id":4},"cornerRadius":{"type":"float","id":5}}},"EllipseArgs":{"fields":{"x":{"type":"float","id":1},"y":{"type":"float","id":2},"radiusX":{"type":"float","id":3},"radiusY":{"type":"float","id":4}}},"ShapeStyle":{"fields":{"fill":{"type":"RGBAColor","id":1},"stroke":{"type":"RGBAColor","id":2},"strokeWidth":{"type":"float","id":3},"lineCap":{"type":"LineCap","id":4},"lineJoin":{"type":"LineJoin","id":5},"miterLimit":{"type":"float","id":6},"lineDashI":{"type":"float","id":7},"lineDashII":{"type":"float","id":8},"lineDashIII":{"type":"float","id":9}},"nested":{"RGBAColor":{"fields":{"r":{"type":"float","id":1},"g":{"type":"float","id":2},"b":{"type":"float","id":3},"a":{"type":"float","id":4}}},"LineCap":{"values":{"LineCap_BUTT":0,"LineCap_ROUND":1,"LineCap_SQUARE":2}},"LineJoin":{"values":{"LineJoin_MITER":0,"LineJoin_ROUND":1,"LineJoin_BEVEL":2}}}}}},"FrameEntity":{"fields":{"alpha":{"type":"float","id":1},"layout":{"type":"Layout","id":2},"transform":{"type":"Transform","id":3},"clipPath":{"type":"string","id":4},"shapes":{"rule":"repeated","type":"ShapeEntity","id":5}}},"MovieEntity":{"fields":{"version":{"type":"string","id":1},"params":{"type":"MovieParams","id":2},"images":{"keyType":"string","type":"bytes","id":3},"sprites":{"rule":"repeated","type":"SpriteEntity","id":4},"audios":{"rule":"repeated","type":"AudioEntity","id":5}}}}}}}}}}}'),h=b.proto=f.Root.fromJSON(c);b.ProtoMovieEntity=h.lookupType("com.opensource.svga.MovieEntity")},function(w,b,y){w.exports=function(f,c){for(var h=new Array(arguments.length-1),a=0,s=2,t=!0;s<arguments.length;)h[a++]=arguments[s++];return new Promise(function(n,e){h[a]=function(i){if(t)if(t=!1,i)e(i);else{for(var r=new Array(arguments.length-1),u=0;u<r.length;)r[u++]=arguments[u];n.apply(null,r)}};try{f.apply(c||null,h)}catch(i){t&&(t=!1,e(i))}})}},function(module,exports,__webpack_require__){function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(w){}return null}module.exports=inquire},function(w,b,y){b.Service=y(46)},function(w,b,y){w.exports={}},function(w,b,y){function f(s,t,n,e){return t.resolvedType.group?s("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",n,e,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):s("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",n,e,(t.id<<3|2)>>>0)}w.exports=function(s){for(var t,n=a.codegen(["m","w"],s.name+"$encode")("if(!w)")("w=Writer.create()"),e=s.fieldsArray.slice().sort(a.compareFieldsById),i=0;i<e.length;++i){var r=e[i].resolve(),u=s._fieldsArray.indexOf(r),o=r.resolvedType instanceof c?"int32":r.type,l=h.basic[o];t="m"+a.safeProp(r.name),r.map?(n("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",t,r.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(r.id<<3|2)>>>0,8|h.mapKey[r.keyType],r.keyType),l===void 0?n("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",u,t):n(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|l,o,t),n("}")("}")):r.repeated?(n("if(%s!=null&&%s.length){",t,t),r.packed&&h.packed[o]!==void 0?n("w.uint32(%i).fork()",(r.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",o,t)("w.ldelim()"):(n("for(var i=0;i<%s.length;++i)",t),l===void 0?f(n,r,u,t+"[i]"):n("w.uint32(%i).%s(%s[i])",(r.id<<3|l)>>>0,o,t)),n("}")):(r.optional&&n("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",t,r.name),l===void 0?f(n,r,u,t):n("w.uint32(%i).%s(%s)",(r.id<<3|l)>>>0,o,t))}return n("return w")};var c=y(2),h=y(7),a=y(0)},function(w,b,y){function f(m,O){h.call(this,m,O),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function c(m){return m._fieldsById=m._fieldsArray=m._oneofsArray=null,delete m.encode,delete m.decode,delete m.verify,m}w.exports=f;var h=y(6);((f.prototype=Object.create(h.prototype)).constructor=f).className="Type";var a=y(2),s=y(11),t=y(4),n=y(23),e=y(24),i=y(12),r=y(10),u=y(9),o=y(0),l=y(21),p=y(26),g=y(27),v=y(28),k=y(29);Object.defineProperties(f.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var m=Object.keys(this.fields),O=0;O<m.length;++O){var j=this.fields[m[O]],A=j.id;if(this._fieldsById[A])throw Error("duplicate id "+A+" in "+this);this._fieldsById[A]=j}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=o.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=o.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=f.generateConstructor(this)())},set:function(m){var O=m.prototype;O instanceof i||((m.prototype=new i).constructor=m,o.merge(m.prototype,O)),m.$type=m.prototype.$type=this,o.merge(m,i,!0),this._ctor=m;for(var j=0;j<this.fieldsArray.length;++j)this._fieldsArray[j].resolve();var A={};for(j=0;j<this.oneofsArray.length;++j)A[this._oneofsArray[j].resolve().name]={get:o.oneOfGetter(this._oneofsArray[j].oneof),set:o.oneOfSetter(this._oneofsArray[j].oneof)};j&&Object.defineProperties(m.prototype,A)}}}),f.generateConstructor=function(m){for(var O,j=o.codegen(["p"],m.name),A=0;A<m.fieldsArray.length;++A)(O=m._fieldsArray[A]).map?j("this%s={}",o.safeProp(O.name)):O.repeated&&j("this%s=[]",o.safeProp(O.name));return j("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},f.fromJSON=function(m,O){var j=new f(m,O.options);j.extensions=O.extensions,j.reserved=O.reserved;for(var A=Object.keys(O.fields),T=0;T<A.length;++T)j.add((O.fields[A[T]].keyType!==void 0?n.fromJSON:t.fromJSON)(A[T],O.fields[A[T]]));if(O.oneofs)for(A=Object.keys(O.oneofs),T=0;T<A.length;++T)j.add(s.fromJSON(A[T],O.oneofs[A[T]]));if(O.nested)for(A=Object.keys(O.nested),T=0;T<A.length;++T){var P=O.nested[A[T]];j.add((P.id!==void 0?t.fromJSON:P.fields!==void 0?f.fromJSON:P.values!==void 0?a.fromJSON:P.methods!==void 0?e.fromJSON:h.fromJSON)(A[T],P))}return O.extensions&&O.extensions.length&&(j.extensions=O.extensions),O.reserved&&O.reserved.length&&(j.reserved=O.reserved),O.group&&(j.group=!0),O.comment&&(j.comment=O.comment),j},f.prototype.toJSON=function(m){var O=h.prototype.toJSON.call(this,m),j=!!m&&!!m.keepComments;return o.toObject(["options",O&&O.options||void 0,"oneofs",h.arrayToJSON(this.oneofsArray,m),"fields",h.arrayToJSON(this.fieldsArray.filter(function(A){return!A.declaringField}),m)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",O&&O.nested||void 0,"comment",j?this.comment:void 0])},f.prototype.resolveAll=function(){for(var m=this.fieldsArray,O=0;O<m.length;)m[O++].resolve();var j=this.oneofsArray;for(O=0;O<j.length;)j[O++].resolve();return h.prototype.resolveAll.call(this)},f.prototype.get=function(m){return this.fields[m]||this.oneofs&&this.oneofs[m]||this.nested&&this.nested[m]||null},f.prototype.add=function(m){if(this.get(m.name))throw Error("duplicate name '"+m.name+"' in "+this);if(m instanceof t&&m.extend===void 0){if(this._fieldsById?this._fieldsById[m.id]:this.fieldsById[m.id])throw Error("duplicate id "+m.id+" in "+this);if(this.isReservedId(m.id))throw Error("id "+m.id+" is reserved in "+this);if(this.isReservedName(m.name))throw Error("name '"+m.name+"' is reserved in "+this);return m.parent&&m.parent.remove(m),this.fields[m.name]=m,m.message=this,m.onAdd(this),c(this)}return m instanceof s?(this.oneofs||(this.oneofs={}),this.oneofs[m.name]=m,m.onAdd(this),c(this)):h.prototype.add.call(this,m)},f.prototype.remove=function(m){if(m instanceof t&&m.extend===void 0){if(!this.fields||this.fields[m.name]!==m)throw Error(m+" is not a member of "+this);return delete this.fields[m.name],m.parent=null,m.onRemove(this),c(this)}if(m instanceof s){if(!this.oneofs||this.oneofs[m.name]!==m)throw Error(m+" is not a member of "+this);return delete this.oneofs[m.name],m.parent=null,m.onRemove(this),c(this)}return h.prototype.remove.call(this,m)},f.prototype.isReservedId=function(m){return h.isReservedId(this.reserved,m)},f.prototype.isReservedName=function(m){return h.isReservedName(this.reserved,m)},f.prototype.create=function(m){return new this.ctor(m)},f.prototype.setup=function(){for(var m=this.fullName,O=[],j=0;j<this.fieldsArray.length;++j)O.push(this._fieldsArray[j].resolve().resolvedType);this.encode=l(this)({Writer:u,types:O,util:o}),this.decode=p(this)({Reader:r,types:O,util:o}),this.verify=g(this)({types:O,util:o}),this.fromObject=v.fromObject(this)({types:O,util:o}),this.toObject=v.toObject(this)({types:O,util:o});var A=k[m];if(A){var T=Object.create(this);T.fromObject=this.fromObject,this.fromObject=A.fromObject.bind(T),T.toObject=this.toObject,this.toObject=A.toObject.bind(T)}return this},f.prototype.encode=function(m,O){return this.setup().encode(m,O)},f.prototype.encodeDelimited=function(m,O){return this.encode(m,O&&O.len?O.fork():O).ldelim()},f.prototype.decode=function(m,O){return this.setup().decode(m,O)},f.prototype.decodeDelimited=function(m){return m instanceof r||(m=r.create(m)),this.decode(m,m.uint32())},f.prototype.verify=function(m){return this.setup().verify(m)},f.prototype.fromObject=function(m){return this.setup().fromObject(m)},f.prototype.toObject=function(m,O){return this.setup().toObject(m,O)},f.d=function(m){return function(O){o.decorateType(O,m)}}},function(w,b,y){function f(s,t,n,e,i,r){if(c.call(this,s,t,e,void 0,void 0,i,r),!a.isString(n))throw TypeError("keyType must be a string");this.keyType=n,this.resolvedKeyType=null,this.map=!0}w.exports=f;var c=y(4);((f.prototype=Object.create(c.prototype)).constructor=f).className="MapField";var h=y(7),a=y(0);f.fromJSON=function(s,t){return new f(s,t.id,t.keyType,t.type,t.options,t.comment)},f.prototype.toJSON=function(s){var t=!!s&&!!s.keepComments;return a.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},f.prototype.resolve=function(){if(this.resolved)return this;if(h.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return c.prototype.resolve.call(this)},f.d=function(s,t,n){return typeof n=="function"?n=a.decorateType(n).name:n&&typeof n=="object"&&(n=a.decorateEnum(n).name),function(e,i){a.decorateType(e.constructor).add(new f(i,s,t,n))}}},function(w,b,y){function f(n,e){h.call(this,n,e),this.methods={},this._methodsArray=null}function c(n){return n._methodsArray=null,n}w.exports=f;var h=y(6);((f.prototype=Object.create(h.prototype)).constructor=f).className="Service";var a=y(25),s=y(0),t=y(19);f.fromJSON=function(n,e){var i=new f(n,e.options);if(e.methods)for(var r=Object.keys(e.methods),u=0;u<r.length;++u)i.add(a.fromJSON(r[u],e.methods[r[u]]));return e.nested&&i.addJSON(e.nested),i.comment=e.comment,i},f.prototype.toJSON=function(n){var e=h.prototype.toJSON.call(this,n),i=!!n&&!!n.keepComments;return s.toObject(["options",e&&e.options||void 0,"methods",h.arrayToJSON(this.methodsArray,n)||{},"nested",e&&e.nested||void 0,"comment",i?this.comment:void 0])},Object.defineProperty(f.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=s.toArray(this.methods))}}),f.prototype.get=function(n){return this.methods[n]||h.prototype.get.call(this,n)},f.prototype.resolveAll=function(){for(var n=this.methodsArray,e=0;e<n.length;++e)n[e].resolve();return h.prototype.resolve.call(this)},f.prototype.add=function(n){if(this.get(n.name))throw Error("duplicate name '"+n.name+"' in "+this);return n instanceof a?(this.methods[n.name]=n,n.parent=this,c(this)):h.prototype.add.call(this,n)},f.prototype.remove=function(n){if(n instanceof a){if(this.methods[n.name]!==n)throw Error(n+" is not a member of "+this);return delete this.methods[n.name],n.parent=null,c(this)}return h.prototype.remove.call(this,n)},f.prototype.create=function(n,e,i){for(var r,u=new t.Service(n,e,i),o=0;o<this.methodsArray.length;++o){var l=s.lcFirst((r=this._methodsArray[o]).resolve().name).replace(/[^$\w_]/g,"");u[l]=s.codegen(["r","c"],s.isReserved(l)?l+"_":l)("return this.rpcCall(m,q,s,r,c)")({m:r,q:r.resolvedRequestType.ctor,s:r.resolvedResponseType.ctor})}return u}},function(w,b,y){function f(a,s,t,n,e,i,r,u,o){if(h.isObject(e)?(r=e,e=i=void 0):h.isObject(i)&&(r=i,i=void 0),s!==void 0&&!h.isString(s))throw TypeError("type must be a string");if(!h.isString(t))throw TypeError("requestType must be a string");if(!h.isString(n))throw TypeError("responseType must be a string");c.call(this,a,r),this.type=s||"rpc",this.requestType=t,this.requestStream=!!e||void 0,this.responseType=n,this.responseStream=!!i||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=u,this.parsedOptions=o}w.exports=f;var c=y(3);((f.prototype=Object.create(c.prototype)).constructor=f).className="Method";var h=y(0);f.fromJSON=function(a,s){return new f(a,s.type,s.requestType,s.responseType,s.requestStream,s.responseStream,s.options,s.comment,s.parsedOptions)},f.prototype.toJSON=function(a){var s=!!a&&!!a.keepComments;return h.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",s?this.comment:void 0,"parsedOptions",this.parsedOptions])},f.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),c.prototype.resolve.call(this))}},function(w,b,y){function f(s){return"missing required '"+s.name+"'"}w.exports=function(s){var t=a.codegen(["r","l"],s.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(s.fieldsArray.filter(function(o){return o.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");s.group&&t("if((t&7)===4)")("break"),t("switch(t>>>3){");for(var n=0;n<s.fieldsArray.length;++n){var e=s._fieldsArray[n].resolve(),i=e.resolvedType instanceof c?"int32":e.type,r="m"+a.safeProp(e.name);t("case %i:",e.id),e.map?(t("if(%s===util.emptyObject)",r)("%s={}",r)("var c2 = r.uint32()+r.pos"),h.defaults[e.keyType]!==void 0?t("k=%j",h.defaults[e.keyType]):t("k=null"),h.defaults[i]!==void 0?t("value=%j",h.defaults[i]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",e.keyType)("case 2:"),h.basic[i]===void 0?t("value=types[%i].decode(r,r.uint32())",n):t("value=r.%s()",i),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),h.long[e.keyType]!==void 0?t('%s[typeof k==="object"?util.longToHash(k):k]=value',r):t("%s[k]=value",r)):e.repeated?(t("if(!(%s&&%s.length))",r,r)("%s=[]",r),h.packed[i]!==void 0&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",r,i)("}else"),h.basic[i]===void 0?t(e.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",r,n):t("%s.push(r.%s())",r,i)):h.basic[i]===void 0?t(e.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",r,n):t("%s=r.%s()",r,i),t("break")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),n=0;n<s._fieldsArray.length;++n){var u=s._fieldsArray[n];u.required&&t("if(!m.hasOwnProperty(%j))",u.name)("throw util.ProtocolError(%j,{instance:m})",f(u))}return t("return m")};var c=y(2),h=y(7),a=y(0)},function(w,b,y){function f(t,n){return t.name+": "+n+(t.repeated&&n!=="array"?"[]":t.map&&n!=="object"?"{k:"+t.keyType+"}":"")+" expected"}function c(t,n,e,i){if(n.resolvedType)if(n.resolvedType instanceof a){t("switch(%s){",i)("default:")("return%j",f(n,"enum value"));for(var r=Object.keys(n.resolvedType.values),u=0;u<r.length;++u)t("case %i:",n.resolvedType.values[r[u]]);t("break")("}")}else t("{")("var e=types[%i].verify(%s);",e,i)("if(e)")("return%j+e",n.name+".")("}");else switch(n.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.isInteger(%s))",i)("return%j",f(n,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",i,i,i,i)("return%j",f(n,"integer|Long"));break;case"float":case"double":t('if(typeof %s!=="number")',i)("return%j",f(n,"number"));break;case"bool":t('if(typeof %s!=="boolean")',i)("return%j",f(n,"boolean"));break;case"string":t("if(!util.isString(%s))",i)("return%j",f(n,"string"));break;case"bytes":t('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',i,i,i)("return%j",f(n,"buffer"))}return t}function h(t,n,e){switch(n.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.key32Re.test(%s))",e)("return%j",f(n,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.key64Re.test(%s))",e)("return%j",f(n,"integer|Long key"));break;case"bool":t("if(!util.key2Re.test(%s))",e)("return%j",f(n,"boolean key"))}return t}w.exports=function(t){var n=s.codegen(["m"],t.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),e={};t.oneofsArray.length&&n("var p={}");for(var i=0;i<t.fieldsArray.length;++i){var r=t._fieldsArray[i].resolve(),u="m"+s.safeProp(r.name);if(r.optional&&n("if(%s!=null&&m.hasOwnProperty(%j)){",u,r.name),r.map)n("if(!util.isObject(%s))",u)("return%j",f(r,"object"))("var k=Object.keys(%s)",u)("for(var i=0;i<k.length;++i){"),h(n,r,"k[i]"),c(n,r,i,u+"[k[i]]")("}");else if(r.repeated)n("if(!Array.isArray(%s))",u)("return%j",f(r,"array"))("for(var i=0;i<%s.length;++i){",u),c(n,r,i,u+"[i]")("}");else{if(r.partOf){var o=s.safeProp(r.partOf.name);e[r.partOf.name]===1&&n("if(p%s===1)",o)("return%j",r.partOf.name+": multiple values"),e[r.partOf.name]=1,n("p%s=1",o)}c(n,r,i,u)}r.optional&&n("}")}return n("return null")};var a=y(2),s=y(0)},function(w,b,y){function f(t,n,e,i){if(n.resolvedType)if(n.resolvedType instanceof a){t("switch(d%s){",i);for(var r=n.resolvedType.values,u=Object.keys(r),o=0;o<u.length;++o)n.repeated&&r[u[o]]===n.typeDefault&&t("default:"),t("case%j:",u[o])("case %i:",r[u[o]])("m%s=%j",i,r[u[o]])("break");t("}")}else t('if(typeof d%s!=="object")',i)("throw TypeError(%j)",n.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",i,e,i);else{var l=!1;switch(n.type){case"double":case"float":t("m%s=Number(d%s)",i,i);break;case"uint32":case"fixed32":t("m%s=d%s>>>0",i,i);break;case"int32":case"sint32":case"sfixed32":t("m%s=d%s|0",i,i);break;case"uint64":l=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",i,i,l)('else if(typeof d%s==="string")',i)("m%s=parseInt(d%s,10)",i,i)('else if(typeof d%s==="number")',i)("m%s=d%s",i,i)('else if(typeof d%s==="object")',i)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",i,i,i,l?"true":"");break;case"bytes":t('if(typeof d%s==="string")',i)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",i,i,i)("else if(d%s.length)",i)("m%s=d%s",i,i);break;case"string":t("m%s=String(d%s)",i,i);break;case"bool":t("m%s=Boolean(d%s)",i,i)}}return t}function c(t,n,e,i){if(n.resolvedType)n.resolvedType instanceof a?t("d%s=o.enums===String?types[%i].values[m%s]:m%s",i,e,i,i):t("d%s=types[%i].toObject(m%s,o)",i,e,i);else{var r=!1;switch(n.type){case"double":case"float":t("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",i,i,i,i);break;case"uint64":r=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t('if(typeof m%s==="number")',i)("d%s=o.longs===String?String(m%s):m%s",i,i,i)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",i,i,i,i,r?"true":"",i);break;case"bytes":t("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",i,i,i,i,i);break;default:t("d%s=m%s",i,i)}}return t}var h=b,a=y(2),s=y(0);h.fromObject=function(t){var n=t.fieldsArray,e=s.codegen(["d"],t.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!n.length)return e("return new this.ctor");e("var m=new this.ctor");for(var i=0;i<n.length;++i){var r=n[i].resolve(),u=s.safeProp(r.name);r.map?(e("if(d%s){",u)('if(typeof d%s!=="object")',u)("throw TypeError(%j)",r.fullName+": object expected")("m%s={}",u)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",u),f(e,r,i,u+"[ks[i]]")("}")("}")):r.repeated?(e("if(d%s){",u)("if(!Array.isArray(d%s))",u)("throw TypeError(%j)",r.fullName+": array expected")("m%s=[]",u)("for(var i=0;i<d%s.length;++i){",u),f(e,r,i,u+"[i]")("}")("}")):(r.resolvedType instanceof a||e("if(d%s!=null){",u),f(e,r,i,u),r.resolvedType instanceof a||e("}"))}return e("return m")},h.toObject=function(t){var n=t.fieldsArray.slice().sort(s.compareFieldsById);if(!n.length)return s.codegen()("return {}");for(var e=s.codegen(["m","o"],t.name+"$toObject")("if(!o)")("o={}")("var d={}"),i=[],r=[],u=[],o=0;o<n.length;++o)n[o].partOf||(n[o].resolve().repeated?i:n[o].map?r:u).push(n[o]);if(i.length){for(e("if(o.arrays||o.defaults){"),o=0;o<i.length;++o)e("d%s=[]",s.safeProp(i[o].name));e("}")}if(r.length){for(e("if(o.objects||o.defaults){"),o=0;o<r.length;++o)e("d%s={}",s.safeProp(r[o].name));e("}")}if(u.length){for(e("if(o.defaults){"),o=0;o<u.length;++o){var l=u[o],p=s.safeProp(l.name);if(l.resolvedType instanceof a)e("d%s=o.enums===String?%j:%j",p,l.resolvedType.valuesById[l.typeDefault],l.typeDefault);else if(l.long)e("if(util.Long){")("var n=new util.Long(%i,%i,%j)",l.typeDefault.low,l.typeDefault.high,l.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",p)("}else")("d%s=o.longs===String?%j:%i",p,l.typeDefault.toString(),l.typeDefault.toNumber());else if(l.bytes){var g="["+Array.prototype.slice.call(l.typeDefault).join(",")+"]";e("if(o.bytes===String)d%s=%j",p,String.fromCharCode.apply(String,l.typeDefault))("else{")("d%s=%s",p,g)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",p,p)("}")}else e("d%s=%j",p,l.typeDefault)}e("}")}var v=!1;for(o=0;o<n.length;++o){l=n[o];var k=t._fieldsArray.indexOf(l);p=s.safeProp(l.name),l.map?(v||(v=!0,e("var ks2")),e("if(m%s&&(ks2=Object.keys(m%s)).length){",p,p)("d%s={}",p)("for(var j=0;j<ks2.length;++j){"),c(e,l,k,p+"[ks2[j]]")("}")):l.repeated?(e("if(m%s&&m%s.length){",p,p)("d%s=[]",p)("for(var j=0;j<m%s.length;++j){",p),c(e,l,k,p+"[j]")("}")):(e("if(m%s!=null&&m.hasOwnProperty(%j)){",p,l.name),c(e,l,k,p),l.partOf&&e("if(o.oneofs)")("d%s=%j",s.safeProp(l.partOf.name),l.name)),e("}")}return e("return d")}},function(w,b,y){var f=b,c=y(12);f[".google.protobuf.Any"]={fromObject:function(h){if(h&&h["@type"]){var a=h["@type"].substring(h["@type"].lastIndexOf("/")+1),s=this.lookup(a);if(s){var t=h["@type"].charAt(0)==="."?h["@type"].substr(1):h["@type"];return t.indexOf("/")===-1&&(t="/"+t),this.create({type_url:t,value:s.encode(s.fromObject(h)).finish()})}}return this.fromObject(h)},toObject:function(h,a){var s="",t="";if(a&&a.json&&h.type_url&&h.value){t=h.type_url.substring(h.type_url.lastIndexOf("/")+1),s=h.type_url.substring(0,h.type_url.lastIndexOf("/")+1);var n=this.lookup(t);n&&(h=n.decode(h.value))}if(!(h instanceof this.ctor)&&h instanceof c){var e=h.$type.toObject(h,a);return s===""&&(s="type.googleapis.com/"),t=s+(h.$type.fullName[0]==="."?h.$type.fullName.substr(1):h.$type.fullName),e["@type"]=t,e}return this.toObject(h,a)}}},function(w,b,y){function f(l){a.call(this,"",l),this.deferred=[],this.files=[]}function c(){}function h(l,p){var g=p.parent.lookup(p.extend);if(g){var v=new e(p.fullName,p.id,p.type,p.rule,void 0,p.options);return v.declaringField=p,p.extensionField=v,g.add(v),!0}return!1}w.exports=f;var a=y(6);((f.prototype=Object.create(a.prototype)).constructor=f).className="Root";var s,t,n,e=y(4),i=y(2),r=y(11),u=y(0);f.fromJSON=function(l,p){return p||(p=new f),l.options&&p.setOptions(l.options),p.addJSON(l.nested)},f.prototype.resolvePath=u.path.resolve,f.prototype.fetch=u.fetch,f.prototype.load=function l(p,g,v){function k(M,C){if(v){var L=v;if(v=null,T)throw M;L(M,C)}}function m(M){var C=M.lastIndexOf("google/protobuf/");if(C>-1){var L=M.substring(C);if(L in n)return L}return null}function O(M,C){try{if(u.isString(C)&&C.charAt(0)==="{"&&(C=JSON.parse(C)),u.isString(C)){t.filename=M;var L,z=t(C,A,g),J=0;if(z.imports)for(;J<z.imports.length;++J)(L=m(z.imports[J])||A.resolvePath(M,z.imports[J]))&&j(L);if(z.weakImports)for(J=0;J<z.weakImports.length;++J)(L=m(z.weakImports[J])||A.resolvePath(M,z.weakImports[J]))&&j(L,!0)}else A.setOptions(C.options).addJSON(C.nested)}catch(ee){k(ee)}T||P||k(null,A)}function j(M,C){if(!(A.files.indexOf(M)>-1)){if(A.files.push(M),M in n)return void(T?O(M,n[M]):(++P,setTimeout(function(){--P,O(M,n[M])})));if(T){var L;try{L=u.fs.readFileSync(M).toString("utf8")}catch(z){return void(C||k(z))}O(M,L)}else++P,A.fetch(M,function(z,J){if(--P,v)return z?void(C?P||k(null,A):k(z)):void O(M,J)})}}typeof g=="function"&&(v=g,g=void 0);var A=this;if(!v)return u.asPromise(l,A,p,g);var T=v===c,P=0;u.isString(p)&&(p=[p]);for(var B,R=0;R<p.length;++R)(B=A.resolvePath("",p[R]))&&j(B);if(T)return A;P||k(null,A)},f.prototype.loadSync=function(l,p){if(!u.isNode)throw Error("not supported");return this.load(l,p,c)},f.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(l){return"'extend "+l.extend+"' in "+l.parent.fullName}).join(", "));return a.prototype.resolveAll.call(this)};var o=/^[A-Z]/;f.prototype._handleAdd=function(l){if(l instanceof e)l.extend===void 0||l.extensionField||h(0,l)||this.deferred.push(l);else if(l instanceof i)o.test(l.name)&&(l.parent[l.name]=l.values);else if(!(l instanceof r)){if(l instanceof s)for(var p=0;p<this.deferred.length;)h(0,this.deferred[p])?this.deferred.splice(p,1):++p;for(var g=0;g<l.nestedArray.length;++g)this._handleAdd(l._nestedArray[g]);o.test(l.name)&&(l.parent[l.name]=l)}},f.prototype._handleRemove=function(l){if(l instanceof e){if(l.extend!==void 0)if(l.extensionField)l.extensionField.parent.remove(l.extensionField),l.extensionField=null;else{var p=this.deferred.indexOf(l);p>-1&&this.deferred.splice(p,1)}}else if(l instanceof i)o.test(l.name)&&delete l.parent[l.name];else if(l instanceof a){for(var g=0;g<l.nestedArray.length;++g)this._handleRemove(l._nestedArray[g]);o.test(l.name)&&delete l.parent[l.name]}},f._configure=function(l,p,g){s=l,t=p,n=g}},function(w,b,y){Object.defineProperty(b,"__esModule",{value:!0}),b.VideoEntity=void 0;var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},c=function(){function s(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,e){return n&&s(t.prototype,n),e&&s(t,e),t}}(),h=y(32),a=y(16).ProtoMovieEntity;b.VideoEntity=function(){function s(t,n){(function(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")})(this,s),this.version="",this.videoSize={width:0,height:0},this.FPS=20,this.frames=0,this.images={},this.sprites=[],this.audios=[],(t===void 0?"undefined":f(t))==="object"&&t.$type==a?(f(t.params)==="object"&&(this.version=t.ver,this.videoSize.width=t.params.viewBoxWidth||0,this.videoSize.height=t.params.viewBoxHeight||0,this.FPS=t.params.fps||20,this.frames=t.params.frames||0),this.resetSprites(t),this.audios=t.audios):t&&(t.movie&&(t.movie.viewBox&&(this.videoSize.width=parseFloat(t.movie.viewBox.width)||0,this.videoSize.height=parseFloat(t.movie.viewBox.height)||0),this.version=t.ver,this.FPS=parseInt(t.movie.fps)||20,this.frames=parseInt(t.movie.frames)||0),this.resetSprites(t)),n&&(this.images=n)}return c(s,[{key:"resetSprites",value:function(t){t.sprites instanceof Array&&(this.sprites=t.sprites.map(function(n){return new h.SpriteEntity(n)}))}}]),s}()},function(w,b,y){Object.defineProperty(b,"__esModule",{value:!0}),b.SpriteEntity=void 0;var f=y(33);y(5),y(14),y(15),b.SpriteEntity=function c(h){(function(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")})(this,c),this.matteKey=null,this.imageKey=null,this.frames=[],this.matteKey=h.matteKey,this.imageKey=h.imageKey,h.frames&&(this.frames=h.frames.map(function(a){return new f.FrameEntity(a)}))}},function(w,b,y){Object.defineProperty(b,"__esModule",{value:!0}),b.FrameEntity=void 0;var f=y(5);b.FrameEntity=function c(h){(function(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.alpha=0,this.transform={a:1,b:0,c:0,d:1,tx:0,ty:0},this.layout={x:0,y:0,width:0,height:0},this.nx=0,this.ny=0,this.maskPath=null,this.shapes=[],this.alpha=parseFloat(h.alpha)||0,h.layout&&(this.layout.x=parseFloat(h.layout.x)||0,this.layout.y=parseFloat(h.layout.y)||0,this.layout.width=parseFloat(h.layout.width)||0,this.layout.height=parseFloat(h.layout.height)||0),h.transform&&(this.transform.a=parseFloat(h.transform.a)||1,this.transform.b=parseFloat(h.transform.b)||0,this.transform.c=parseFloat(h.transform.c)||0,this.transform.d=parseFloat(h.transform.d)||1,this.transform.tx=parseFloat(h.transform.tx)||0,this.transform.ty=parseFloat(h.transform.ty)||0),h.clipPath&&h.clipPath.length>0&&(this.maskPath=new f.BezierPath(h.clipPath,void 0,{fill:"#000000"})),h.shapes&&(h.shapes instanceof Array&&h.shapes.forEach(function(o){switch(o.pathArgs=o.args,o.type){case 0:o.type="shape",o.pathArgs=o.shape;break;case 1:o.type="rect",o.pathArgs=o.rect;break;case 2:o.type="ellipse",o.pathArgs=o.ellipse;break;case 3:o.type="keep"}if(o.styles){o.styles.fill&&(typeof o.styles.fill.r=="number"&&(o.styles.fill[0]=o.styles.fill.r),typeof o.styles.fill.g=="number"&&(o.styles.fill[1]=o.styles.fill.g),typeof o.styles.fill.b=="number"&&(o.styles.fill[2]=o.styles.fill.b),typeof o.styles.fill.a=="number"&&(o.styles.fill[3]=o.styles.fill.a)),o.styles.stroke&&(typeof o.styles.stroke.r=="number"&&(o.styles.stroke[0]=o.styles.stroke.r),typeof o.styles.stroke.g=="number"&&(o.styles.stroke[1]=o.styles.stroke.g),typeof o.styles.stroke.b=="number"&&(o.styles.stroke[2]=o.styles.stroke.b),typeof o.styles.stroke.a=="number"&&(o.styles.stroke[3]=o.styles.stroke.a));var l=o.styles.lineDash||[];switch(o.styles.lineDashI>0&&l.push(o.styles.lineDashI),o.styles.lineDashII>0&&(l.length<1&&l.push(0),l.push(o.styles.lineDashII),l.push(0)),o.styles.lineDashIII>0&&(l.length<2&&(l.push(0),l.push(0)),l[2]=o.styles.lineDashIII),o.styles.lineDash=l,o.styles.lineJoin){case 0:o.styles.lineJoin="miter";break;case 1:o.styles.lineJoin="round";break;case 2:o.styles.lineJoin="bevel"}switch(o.styles.lineCap){case 0:o.styles.lineCap="butt";break;case 1:o.styles.lineCap="round";break;case 2:o.styles.lineCap="square"}}}),h.shapes[0]&&h.shapes[0].type==="keep"?this.shapes=c.lastShapes:(this.shapes=h.shapes,c.lastShapes=h.shapes));var a=this.transform.a*this.layout.x+this.transform.c*this.layout.y+this.transform.tx,s=this.transform.a*(this.layout.x+this.layout.width)+this.transform.c*this.layout.y+this.transform.tx,t=this.transform.a*this.layout.x+this.transform.c*(this.layout.y+this.layout.height)+this.transform.tx,n=this.transform.a*(this.layout.x+this.layout.width)+this.transform.c*(this.layout.y+this.layout.height)+this.transform.tx,e=this.transform.b*this.layout.x+this.transform.d*this.layout.y+this.transform.ty,i=this.transform.b*(this.layout.x+this.layout.width)+this.transform.d*this.layout.y+this.transform.ty,r=this.transform.b*this.layout.x+this.transform.d*(this.layout.y+this.layout.height)+this.transform.ty,u=this.transform.b*(this.layout.x+this.layout.width)+this.transform.d*(this.layout.y+this.layout.height)+this.transform.ty;this.nx=Math.min(Math.min(t,n),Math.min(a,s)),this.ny=Math.min(Math.min(r,u),Math.min(e,i))}},function(w,b,y){w.exports=y(35)},function(w,b,y){var f=w.exports=y(36);f.build="light",f.load=function(c,h,a){return typeof h=="function"?(a=h,h=new f.Root):h||(h=new f.Root),h.load(c,a)},f.loadSync=function(c,h){return h||(h=new f.Root),h.loadSync(c)},f.encoder=y(21),f.decoder=y(26),f.verifier=y(27),f.converter=y(28),f.ReflectionObject=y(3),f.Namespace=y(6),f.Root=y(30),f.Enum=y(2),f.Type=y(22),f.Field=y(4),f.OneOf=y(11),f.MapField=y(23),f.Service=y(24),f.Method=y(25),f.Message=y(12),f.wrappers=y(29),f.types=y(7),f.util=y(0),f.ReflectionObject._configure(f.Root),f.Namespace._configure(f.Type,f.Service,f.Enum),f.Root._configure(f.Type),f.Field._configure(f.Type)},function(w,b,y){function f(){c.util._configure(),c.Writer._configure(c.BufferWriter),c.Reader._configure(c.BufferReader)}var c=b;c.build="minimal",c.Writer=y(9),c.BufferWriter=y(44),c.Reader=y(10),c.BufferReader=y(45),c.util=y(1),c.rpc=y(19),c.roots=y(20),c.configure=f,f()},function(w,b){var y;y=function(){return this}();try{y=y||new Function("return this")()}catch{typeof window=="object"&&(y=window)}w.exports=y},function(w,b,y){var f=b;f.length=function(s){var t=s.length;if(!t)return 0;for(var n=0;--t%4>1&&s.charAt(t)==="=";)++n;return Math.ceil(3*s.length)/4-n};for(var c=new Array(64),h=new Array(123),a=0;a<64;)h[c[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;f.encode=function(s,t,n){for(var e,i=null,r=[],u=0,o=0;t<n;){var l=s[t++];switch(o){case 0:r[u++]=c[l>>2],e=(3&l)<<4,o=1;break;case 1:r[u++]=c[e|l>>4],e=(15&l)<<2,o=2;break;case 2:r[u++]=c[e|l>>6],r[u++]=c[63&l],o=0}u>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,r)),u=0)}return o&&(r[u++]=c[e],r[u++]=61,o===1&&(r[u++]=61)),i?(u&&i.push(String.fromCharCode.apply(String,r.slice(0,u))),i.join("")):String.fromCharCode.apply(String,r.slice(0,u))},f.decode=function(s,t,n){for(var e,i=n,r=0,u=0;u<s.length;){var o=s.charCodeAt(u++);if(o===61&&r>1)break;if((o=h[o])===void 0)throw Error("invalid encoding");switch(r){case 0:e=o,r=1;break;case 1:t[n++]=e<<2|(48&o)>>4,e=o,r=2;break;case 2:t[n++]=(15&e)<<4|(60&o)>>2,e=o,r=3;break;case 3:t[n++]=(3&e)<<6|o,r=0}}if(r===1)throw Error("invalid encoding");return n-i},f.test=function(s){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(s)}},function(w,b,y){function f(){this._listeners={}}w.exports=f,f.prototype.on=function(c,h,a){return(this._listeners[c]||(this._listeners[c]=[])).push({fn:h,ctx:a||this}),this},f.prototype.off=function(c,h){if(c===void 0)this._listeners={};else if(h===void 0)this._listeners[c]=[];else for(var a=this._listeners[c],s=0;s<a.length;)a[s].fn===h?a.splice(s,1):++s;return this},f.prototype.emit=function(c){var h=this._listeners[c];if(h){for(var a=[],s=1;s<arguments.length;)a.push(arguments[s++]);for(s=0;s<h.length;)h[s].fn.apply(h[s++].ctx,a)}return this}},function(w,b,y){function f(t){return typeof Float32Array<"u"?function(){function n(p,g,v){u[0]=p,g[v]=o[0],g[v+1]=o[1],g[v+2]=o[2],g[v+3]=o[3]}function e(p,g,v){u[0]=p,g[v]=o[3],g[v+1]=o[2],g[v+2]=o[1],g[v+3]=o[0]}function i(p,g){return o[0]=p[g],o[1]=p[g+1],o[2]=p[g+2],o[3]=p[g+3],u[0]}function r(p,g){return o[3]=p[g],o[2]=p[g+1],o[1]=p[g+2],o[0]=p[g+3],u[0]}var u=new Float32Array([-0]),o=new Uint8Array(u.buffer),l=o[3]===128;t.writeFloatLE=l?n:e,t.writeFloatBE=l?e:n,t.readFloatLE=l?i:r,t.readFloatBE=l?r:i}():function(){function n(i,r,u,o){var l=r<0?1:0;if(l&&(r=-r),r===0)i(1/r>0?0:2147483648,u,o);else if(isNaN(r))i(2143289344,u,o);else if(r>34028234663852886e22)i((l<<31|2139095040)>>>0,u,o);else if(r<11754943508222875e-54)i((l<<31|Math.round(r/1401298464324817e-60))>>>0,u,o);else{var p=Math.floor(Math.log(r)/Math.LN2);i((l<<31|p+127<<23|8388607&Math.round(r*Math.pow(2,-p)*8388608))>>>0,u,o)}}function e(i,r,u){var o=i(r,u),l=2*(o>>31)+1,p=o>>>23&255,g=8388607&o;return p===255?g?NaN:l*(1/0):p===0?1401298464324817e-60*l*g:l*Math.pow(2,p-150)*(g+8388608)}t.writeFloatLE=n.bind(null,c),t.writeFloatBE=n.bind(null,h),t.readFloatLE=e.bind(null,a),t.readFloatBE=e.bind(null,s)}(),typeof Float64Array<"u"?function(){function n(p,g,v){u[0]=p,g[v]=o[0],g[v+1]=o[1],g[v+2]=o[2],g[v+3]=o[3],g[v+4]=o[4],g[v+5]=o[5],g[v+6]=o[6],g[v+7]=o[7]}function e(p,g,v){u[0]=p,g[v]=o[7],g[v+1]=o[6],g[v+2]=o[5],g[v+3]=o[4],g[v+4]=o[3],g[v+5]=o[2],g[v+6]=o[1],g[v+7]=o[0]}function i(p,g){return o[0]=p[g],o[1]=p[g+1],o[2]=p[g+2],o[3]=p[g+3],o[4]=p[g+4],o[5]=p[g+5],o[6]=p[g+6],o[7]=p[g+7],u[0]}function r(p,g){return o[7]=p[g],o[6]=p[g+1],o[5]=p[g+2],o[4]=p[g+3],o[3]=p[g+4],o[2]=p[g+5],o[1]=p[g+6],o[0]=p[g+7],u[0]}var u=new Float64Array([-0]),o=new Uint8Array(u.buffer),l=o[7]===128;t.writeDoubleLE=l?n:e,t.writeDoubleBE=l?e:n,t.readDoubleLE=l?i:r,t.readDoubleBE=l?r:i}():function(){function n(i,r,u,o,l,p){var g=o<0?1:0;if(g&&(o=-o),o===0)i(0,l,p+r),i(1/o>0?0:2147483648,l,p+u);else if(isNaN(o))i(0,l,p+r),i(2146959360,l,p+u);else if(o>17976931348623157e292)i(0,l,p+r),i((g<<31|2146435072)>>>0,l,p+u);else{var v;if(o<22250738585072014e-324)i((v=o/5e-324)>>>0,l,p+r),i((g<<31|v/4294967296)>>>0,l,p+u);else{var k=Math.floor(Math.log(o)/Math.LN2);k===1024&&(k=1023),i(4503599627370496*(v=o*Math.pow(2,-k))>>>0,l,p+r),i((g<<31|k+1023<<20|1048576*v&1048575)>>>0,l,p+u)}}}function e(i,r,u,o,l){var p=i(o,l+r),g=i(o,l+u),v=2*(g>>31)+1,k=g>>>20&2047,m=4294967296*(1048575&g)+p;return k===2047?m?NaN:v*(1/0):k===0?5e-324*v*m:v*Math.pow(2,k-1075)*(m+4503599627370496)}t.writeDoubleLE=n.bind(null,c,0,4),t.writeDoubleBE=n.bind(null,h,4,0),t.readDoubleLE=e.bind(null,a,0,4),t.readDoubleBE=e.bind(null,s,4,0)}(),t}function c(t,n,e){n[e]=255&t,n[e+1]=t>>>8&255,n[e+2]=t>>>16&255,n[e+3]=t>>>24}function h(t,n,e){n[e]=t>>>24,n[e+1]=t>>>16&255,n[e+2]=t>>>8&255,n[e+3]=255&t}function a(t,n){return(t[n]|t[n+1]<<8|t[n+2]<<16|t[n+3]<<24)>>>0}function s(t,n){return(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3])>>>0}w.exports=f(f)},function(w,b,y){var f=b;f.length=function(c){for(var h=0,a=0,s=0;s<c.length;++s)(a=c.charCodeAt(s))<128?h+=1:a<2048?h+=2:(64512&a)==55296&&(64512&c.charCodeAt(s+1))==56320?(++s,h+=4):h+=3;return h},f.read=function(c,h,a){if(a-h<1)return"";for(var s,t=null,n=[],e=0;h<a;)(s=c[h++])<128?n[e++]=s:s>191&&s<224?n[e++]=(31&s)<<6|63&c[h++]:s>239&&s<365?(s=((7&s)<<18|(63&c[h++])<<12|(63&c[h++])<<6|63&c[h++])-65536,n[e++]=55296+(s>>10),n[e++]=56320+(1023&s)):n[e++]=(15&s)<<12|(63&c[h++])<<6|63&c[h++],e>8191&&((t||(t=[])).push(String.fromCharCode.apply(String,n)),e=0);return t?(e&&t.push(String.fromCharCode.apply(String,n.slice(0,e))),t.join("")):String.fromCharCode.apply(String,n.slice(0,e))},f.write=function(c,h,a){for(var s,t,n=a,e=0;e<c.length;++e)(s=c.charCodeAt(e))<128?h[a++]=s:s<2048?(h[a++]=s>>6|192,h[a++]=63&s|128):(64512&s)==55296&&(64512&(t=c.charCodeAt(e+1)))==56320?(s=65536+((1023&s)<<10)+(1023&t),++e,h[a++]=s>>18|240,h[a++]=s>>12&63|128,h[a++]=s>>6&63|128,h[a++]=63&s|128):(h[a++]=s>>12|224,h[a++]=s>>6&63|128,h[a++]=63&s|128);return a-n}},function(w,b,y){w.exports=function(f,c,h){var a=h||8192,s=a>>>1,t=null,n=a;return function(e){if(e<1||e>s)return f(e);n+e>a&&(t=f(a),n=0);var i=c.call(t,n,n+=e);return 7&n&&(n=1+(7|n)),i}}},function(w,b,y){function f(t,n){this.lo=t>>>0,this.hi=n>>>0}w.exports=f;var c=y(1),h=f.zero=new f(0,0);h.toNumber=function(){return 0},h.zzEncode=h.zzDecode=function(){return this},h.length=function(){return 1};var a=f.zeroHash="\0\0\0\0\0\0\0\0";f.fromNumber=function(t){if(t===0)return h;var n=t<0;n&&(t=-t);var e=t>>>0,i=(t-e)/4294967296>>>0;return n&&(i=~i>>>0,e=~e>>>0,++e>4294967295&&(e=0,++i>4294967295&&(i=0))),new f(e,i)},f.from=function(t){if(typeof t=="number")return f.fromNumber(t);if(c.isString(t)){if(!c.Long)return f.fromNumber(parseInt(t,10));t=c.Long.fromString(t)}return t.low||t.high?new f(t.low>>>0,t.high>>>0):h},f.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var n=1+~this.lo>>>0,e=~this.hi>>>0;return n||(e=e+1>>>0),-(n+4294967296*e)}return this.lo+4294967296*this.hi},f.prototype.toLong=function(t){return c.Long?new c.Long(0|this.lo,0|this.hi,!!t):{low:0|this.lo,high:0|this.hi,unsigned:!!t}};var s=String.prototype.charCodeAt;f.fromHash=function(t){return t===a?h:new f((s.call(t,0)|s.call(t,1)<<8|s.call(t,2)<<16|s.call(t,3)<<24)>>>0,(s.call(t,4)|s.call(t,5)<<8|s.call(t,6)<<16|s.call(t,7)<<24)>>>0)},f.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},f.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},f.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},f.prototype.length=function(){var t=this.lo,n=(this.lo>>>28|this.hi<<4)>>>0,e=this.hi>>>24;return e===0?n===0?t<16384?t<128?1:2:t<2097152?3:4:n<16384?n<128?5:6:n<2097152?7:8:e<128?9:10}},function(w,b,y){function f(){h.call(this)}function c(s,t,n){s.length<40?a.utf8.write(s,t,n):t.utf8Write?t.utf8Write(s,n):t.write(s,n)}w.exports=f;var h=y(9);(f.prototype=Object.create(h.prototype)).constructor=f;var a=y(1);f._configure=function(){f.alloc=a._Buffer_allocUnsafe,f.writeBytesBuffer=a.Buffer&&a.Buffer.prototype instanceof Uint8Array&&a.Buffer.prototype.set.name==="set"?function(s,t,n){t.set(s,n)}:function(s,t,n){if(s.copy)s.copy(t,n,0,s.length);else for(var e=0;e<s.length;)t[n++]=s[e++]}},f.prototype.bytes=function(s){a.isString(s)&&(s=a._Buffer_from(s,"base64"));var t=s.length>>>0;return this.uint32(t),t&&this._push(f.writeBytesBuffer,t,s),this},f.prototype.string=function(s){var t=a.Buffer.byteLength(s);return this.uint32(t),t&&this._push(c,t,s),this},f._configure()},function(w,b,y){function f(a){c.call(this,a)}w.exports=f;var c=y(10);(f.prototype=Object.create(c.prototype)).constructor=f;var h=y(1);f._configure=function(){h.Buffer&&(f.prototype._slice=h.Buffer.prototype.slice)},f.prototype.string=function(){var a=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+a,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+a,this.len))},f._configure()},function(w,b,y){function f(h,a,s){if(typeof h!="function")throw TypeError("rpcImpl must be a function");c.EventEmitter.call(this),this.rpcImpl=h,this.requestDelimited=!!a,this.responseDelimited=!!s}w.exports=f;var c=y(1);(f.prototype=Object.create(c.EventEmitter.prototype)).constructor=f,f.prototype.rpcCall=function h(a,s,t,n,e){if(!n)throw TypeError("request must be specified");var i=this;if(!e)return c.asPromise(h,i,a,s,t,n);if(i.rpcImpl)try{return i.rpcImpl(a,s[i.requestDelimited?"encodeDelimited":"encode"](n).finish(),function(r,u){if(r)return i.emit("error",r,a),e(r);if(u!==null){if(!(u instanceof t))try{u=t[i.responseDelimited?"decodeDelimited":"decode"](u)}catch(o){return i.emit("error",o,a),e(o)}return i.emit("data",u,a),e(null,u)}i.end(!0)})}catch(r){return i.emit("error",r,a),void setTimeout(function(){e(r)},0)}else setTimeout(function(){e(Error("already ended"))},0)},f.prototype.end=function(h){return this.rpcImpl&&(h||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(w,b,y){function f(c,h){function a(n){if(typeof n!="string"){var e=s();if(f.verbose&&console.log("codegen: "+e),e="return "+e,n){for(var i=Object.keys(n),r=new Array(i.length+1),u=new Array(i.length),o=0;o<i.length;)r[o]=i[o],u[o]=n[i[o++]];return r[o]=e,Function.apply(null,r).apply(null,u)}return Function(e)()}for(var l=new Array(arguments.length-1),p=0;p<l.length;)l[p]=arguments[++p];if(p=0,n=n.replace(/%([%dfijs])/g,function(g,v){var k=l[p++];switch(v){case"d":case"f":return String(Number(k));case"i":return String(Math.floor(k));case"j":return JSON.stringify(k);case"s":return String(k)}return"%"}),p!==l.length)throw Error("parameter count mismatch");return t.push(n),a}function s(n){return"function "+(n||h||"")+"("+(c&&c.join(",")||"")+`){
  `+t.join(`
  `)+`
}`}typeof c=="string"&&(h=c,c=void 0);var t=[];return a.toString=s,a}w.exports=f,f.verbose=!1},function(w,b,y){function f(a,s,t){return typeof s=="function"?(t=s,s={}):s||(s={}),t?!s.xhr&&h&&h.readFile?h.readFile(a,function(n,e){return n&&typeof XMLHttpRequest<"u"?f.xhr(a,s,t):n?t(n):t(null,s.binary?e:e.toString("utf8"))}):f.xhr(a,s,t):c(f,this,a,s)}w.exports=f;var c=y(17),h=y(18)("fs");f.xhr=function(a,s,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(n.readyState===4){if(n.status!==0&&n.status!==200)return t(Error("status "+n.status));if(s.binary){var e=n.response;if(!e){e=[];for(var i=0;i<n.responseText.length;++i)e.push(255&n.responseText.charCodeAt(i))}return t(null,typeof Uint8Array<"u"?new Uint8Array(e):e)}return t(null,n.responseText)}},s.binary&&("overrideMimeType"in n&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.responseType="arraybuffer"),n.open("GET",a),n.send()}},function(w,b,y){var f=b,c=f.isAbsolute=function(a){return/^(?:\/|\w+:)/.test(a)},h=f.normalize=function(a){var s=(a=a.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),t=c(a),n="";t&&(n=s.shift()+"/");for(var e=0;e<s.length;)s[e]===".."?e>0&&s[e-1]!==".."?s.splice(--e,2):t?s.splice(e,1):++e:s[e]==="."?s.splice(e,1):++e;return n+s.join("/")};f.resolve=function(a,s,t){return t||(s=h(s)),c(s)?s:(t||(a=h(a)),(a=a.replace(/(?:\/|^)[^/]+$/,"")).length?h(a+"/"+s):s)}},function(w,b,y){var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=y(16).ProtoMovieEntity,h=y(8).assign,a=y(51),s={};h(s,a);var t=function(e){for(var i=[],r=0;r<e.length;r+=32768)i.push(String.fromCharCode.apply(null,e.subarray(r,r+32768)));return i.join("")},n={loadAssets:function(e,i,r){if((typeof JSZipUtils>"u"?"undefined":f(JSZipUtils))==="object"&&typeof JSZip=="function")if(e.toString()=="[object File]")n._readBlobAsArrayBuffer(e,function(l){var p=new Uint8Array(l,0,4);p[0]==80&&p[1]==75&&p[2]==3&&p[3]==4?JSZip.loadAsync(l).then(function(g){n._decodeAssets(g,i)}):n.load_viaProto(l,i,r)});else if(e.indexOf("data:svga/1.0;base64,")>=0){var u=n._base64ToArrayBuffer(e.substring(21));JSZip.loadAsync(u).then(function(l){n._decodeAssets(l,i)})}else e.indexOf("data:svga/2.0;base64,")>=0?(u=n._base64ToArrayBuffer(e.substring(21)),n.load_viaProto(u,i,r)):JSZipUtils.getBinaryContent(e,function(l,p){if(l)throw r&&r(l),console.error(l),l;var g=new Uint8Array(p,0,4);g[0]==80&&g[1]==75&&g[2]==3&&g[3]==4?JSZip.loadAsync(p).then(function(v){n._decodeAssets(v,i)}):n.load_viaProto(p,i,r)});else{var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.onload=function(){n.load_viaProto(o.response,i,r)},o.onerror=function(l){if(!r)throw console.error(l),l;r(l)},o.send()}},load_viaProto:function(e,i,r){try{var u=s.inflate(e),o=c.decode(u),l={};n._loadImages(l,void 0,o,function(){o.ver="2.0",i({movie:o,images:l})})}catch(p){if(r)return void r(p);throw console.error(p),p}},_decodeAssets:function(e,i){var r="1.0";e.file("movie.binary")&&(r="1.5"),e.file("movie.spec").async("string").then(function(u){var o=JSON.parse(u),l={};o.ver=r,n._loadImages(l,e,o,function(){i({movie:o,images:l})})})},_loadImages:function(e,i,r,u){var o=this;if((r===void 0?"undefined":f(r))==="object"&&r.$type==c){var l=!0;if(i)e:for(var p in r.images)switch(function(j){if(r.images.hasOwnProperty(j)){var A=r.images[j],T=t(A);return e.hasOwnProperty(j)?"continue":(l=!1,i.file(T+".png").async("base64").then((function(P){e[j]=P,n._loadImages(e,i,r,u)}).bind(o)),"break")}}(p)){case"continue":continue;case"break":break e}else for(var g in r.images)if(r.images.hasOwnProperty(g)){var v=r.images[g],k=void 0;try{k=t(v)}catch{k=t(v)}e[g]=btoa(k)}l&&u.call(this)}else{l=!0;for(var m in r.images)if(r.images.hasOwnProperty(m)){var O=r.images[m];if(e.hasOwnProperty(m))continue;l=!1,i.file(O+".png").async("base64").then((function(j){e[m]=j,n._loadImages(e,i,r,u)}).bind(this));break}l&&u.call(this)}},_base64ToArrayBuffer:function(e){for(var i=window.atob(e),r=i.length,u=new Uint8Array(r),o=0;o<r;o++)u[o]=i.charCodeAt(o);return u.buffer},_readBlobAsArrayBuffer:function(e,i){var r=new FileReader;r.onload=function(u){i(u.target.result)},r.readAsArrayBuffer(e)}};w.exports=function(e,i,r){n.loadAssets(e,i,r)}},function(w,b,y){function f(u){if(!(this instanceof f))return new f(u);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},u||{});var o=this.options;o.raw&&o.windowBits>=0&&o.windowBits<16&&(o.windowBits=-o.windowBits,o.windowBits===0&&(o.windowBits=-15)),!(o.windowBits>=0&&o.windowBits<16)||u&&u.windowBits||(o.windowBits+=32),o.windowBits>15&&o.windowBits<48&&!(15&o.windowBits)&&(o.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new e,this.strm.avail_out=0;var l=h.inflateInit2(this.strm,o.windowBits);if(l!==t.Z_OK)throw new Error(n[l]);if(this.header=new i,h.inflateGetHeader(this.strm,this.header),o.dictionary&&(typeof o.dictionary=="string"?o.dictionary=s.string2buf(o.dictionary):r.call(o.dictionary)==="[object ArrayBuffer]"&&(o.dictionary=new Uint8Array(o.dictionary)),o.raw&&(l=h.inflateSetDictionary(this.strm,o.dictionary))!==t.Z_OK))throw new Error(n[l])}function c(u,o){var l=new f(o);if(l.push(u,!0),l.err)throw l.msg||n[l.err];return l.result}var h=y(52),a=y(8),s=y(57),t=y(58),n=y(59),e=y(60),i=y(61),r=Object.prototype.toString;f.prototype.push=function(u,o){var l,p,g,v,k,m=this.strm,O=this.options.chunkSize,j=this.options.dictionary,A=!1;if(this.ended)return!1;p=o===~~o?o:o===!0?t.Z_FINISH:t.Z_NO_FLUSH,typeof u=="string"?m.input=s.binstring2buf(u):r.call(u)==="[object ArrayBuffer]"?m.input=new Uint8Array(u):m.input=u,m.next_in=0,m.avail_in=m.input.length;do{if(m.avail_out===0&&(m.output=new a.Buf8(O),m.next_out=0,m.avail_out=O),(l=h.inflate(m,t.Z_NO_FLUSH))===t.Z_NEED_DICT&&j&&(l=h.inflateSetDictionary(this.strm,j)),l===t.Z_BUF_ERROR&&A===!0&&(l=t.Z_OK,A=!1),l!==t.Z_STREAM_END&&l!==t.Z_OK)return this.onEnd(l),this.ended=!0,!1;m.next_out&&(m.avail_out!==0&&l!==t.Z_STREAM_END&&(m.avail_in!==0||p!==t.Z_FINISH&&p!==t.Z_SYNC_FLUSH)||(this.options.to==="string"?(g=s.utf8border(m.output,m.next_out),v=m.next_out-g,k=s.buf2string(m.output,g),m.next_out=v,m.avail_out=O-v,v&&a.arraySet(m.output,m.output,g,v,0),this.onData(k)):this.onData(a.shrinkBuf(m.output,m.next_out)))),m.avail_in===0&&m.avail_out===0&&(A=!0)}while((m.avail_in>0||m.avail_out===0)&&l!==t.Z_STREAM_END);return l===t.Z_STREAM_END&&(p=t.Z_FINISH),p===t.Z_FINISH?(l=h.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,l===t.Z_OK):p!==t.Z_SYNC_FLUSH||(this.onEnd(t.Z_OK),m.avail_out=0,!0)},f.prototype.onData=function(u){this.chunks.push(u)},f.prototype.onEnd=function(u){u===t.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=u,this.msg=this.strm.msg},b.Inflate=f,b.inflate=c,b.inflateRaw=function(u,o){return(o=o||{}).raw=!0,c(u,o)},b.ungzip=c},function(w,b,y){function f(_){return(_>>>24&255)+(_>>>8&65280)+((65280&_)<<8)+((255&_)<<24)}function c(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new u.Buf16(320),this.work=new u.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function h(_){var E;return _&&_.state?(E=_.state,_.total_in=_.total_out=E.total=0,_.msg="",E.wrap&&(_.adler=1&E.wrap),E.mode=J,E.last=0,E.havedict=0,E.dmax=32768,E.head=null,E.hold=0,E.bits=0,E.lencode=E.lendyn=new u.Buf32(ze),E.distcode=E.distdyn=new u.Buf32(Je),E.sane=1,E.back=-1,T):R}function a(_){var E;return _&&_.state?((E=_.state).wsize=0,E.whave=0,E.wnext=0,h(_)):R}function s(_,E){var d,I;return _&&_.state?(I=_.state,E<0?(d=0,E=-E):(d=1+(E>>4),E<48&&(E&=15)),E&&(E<8||E>15)?R:(I.window!==null&&I.wbits!==E&&(I.window=null),I.wrap=d,I.wbits=E,a(_))):R}function t(_,E){var d,I;return _?(I=new c,_.state=I,I.window=null,(d=s(_,E))!==T&&(_.state=null),d):R}function n(_){if(De){var E;for(i=new u.Buf32(512),r=new u.Buf32(32),E=0;E<144;)_.lens[E++]=8;for(;E<256;)_.lens[E++]=9;for(;E<280;)_.lens[E++]=7;for(;E<288;)_.lens[E++]=8;for(g(k,_.lens,0,288,i,0,_.work,{bits:9}),E=0;E<32;)_.lens[E++]=5;g(m,_.lens,0,32,r,0,_.work,{bits:5}),De=!1}_.lencode=i,_.lenbits=9,_.distcode=r,_.distbits=5}function e(_,E,d,I){var V,N=_.state;return N.window===null&&(N.wsize=1<<N.wbits,N.wnext=0,N.whave=0,N.window=new u.Buf8(N.wsize)),I>=N.wsize?(u.arraySet(N.window,E,d-N.wsize,N.wsize,0),N.wnext=0,N.whave=N.wsize):((V=N.wsize-N.wnext)>I&&(V=I),u.arraySet(N.window,E,d-I,V,N.wnext),(I-=V)?(u.arraySet(N.window,E,d-I,I,0),N.wnext=I,N.whave=N.wsize):(N.wnext+=V,N.wnext===N.wsize&&(N.wnext=0),N.whave<N.wsize&&(N.whave+=V))),0}var i,r,u=y(8),o=y(53),l=y(54),p=y(55),g=y(56),v=0,k=1,m=2,O=4,j=5,A=6,T=0,P=1,B=2,R=-2,M=-3,C=-4,L=-5,z=8,J=1,ee=2,oe=3,Q=4,fe=5,he=6,re=7,ue=8,le=9,de=10,ce=11,se=12,_e=13,Ae=14,we=15,Se=16,je=17,Te=18,Ee=19,pe=20,ye=21,Ne=22,Fe=23,Ce=24,Be=25,Ie=26,ke=27,Pe=28,Re=29,U=30,xe=31,Le=32,ze=852,Je=592,Ue=15,De=!0;b.inflateReset=a,b.inflateReset2=s,b.inflateResetKeep=h,b.inflateInit=function(_){return t(_,Ue)},b.inflateInit2=t,b.inflate=function(_,E){var d,I,V,N,te,F,$,S,x,me,q,D,ve,Oe,Z,W,X,Y,ge,be,K,ne,ae,ie,G=0,H=new u.Buf8(4),Me=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!_||!_.state||!_.output||!_.input&&_.avail_in!==0)return R;(d=_.state).mode===se&&(d.mode=_e),te=_.next_out,V=_.output,$=_.avail_out,N=_.next_in,I=_.input,F=_.avail_in,S=d.hold,x=d.bits,me=F,q=$,ne=T;e:for(;;)switch(d.mode){case J:if(d.wrap===0){d.mode=_e;break}for(;x<16;){if(F===0)break e;F--,S+=I[N++]<<x,x+=8}if(2&d.wrap&&S===35615){d.check=0,H[0]=255&S,H[1]=S>>>8&255,d.check=l(d.check,H,2,0),S=0,x=0,d.mode=ee;break}if(d.flags=0,d.head&&(d.head.done=!1),!(1&d.wrap)||(((255&S)<<8)+(S>>8))%31){_.msg="incorrect header check",d.mode=U;break}if((15&S)!==z){_.msg="unknown compression method",d.mode=U;break}if(x-=4,K=8+(15&(S>>>=4)),d.wbits===0)d.wbits=K;else if(K>d.wbits){_.msg="invalid window size",d.mode=U;break}d.dmax=1<<K,_.adler=d.check=1,d.mode=512&S?de:se,S=0,x=0;break;case ee:for(;x<16;){if(F===0)break e;F--,S+=I[N++]<<x,x+=8}if(d.flags=S,(255&d.flags)!==z){_.msg="unknown compression method",d.mode=U;break}if(57344&d.flags){_.msg="unknown header flags set",d.mode=U;break}d.head&&(d.head.text=S>>8&1),512&d.flags&&(H[0]=255&S,H[1]=S>>>8&255,d.check=l(d.check,H,2,0)),S=0,x=0,d.mode=oe;case oe:for(;x<32;){if(F===0)break e;F--,S+=I[N++]<<x,x+=8}d.head&&(d.head.time=S),512&d.flags&&(H[0]=255&S,H[1]=S>>>8&255,H[2]=S>>>16&255,H[3]=S>>>24&255,d.check=l(d.check,H,4,0)),S=0,x=0,d.mode=Q;case Q:for(;x<16;){if(F===0)break e;F--,S+=I[N++]<<x,x+=8}d.head&&(d.head.xflags=255&S,d.head.os=S>>8),512&d.flags&&(H[0]=255&S,H[1]=S>>>8&255,d.check=l(d.check,H,2,0)),S=0,x=0,d.mode=fe;case fe:if(1024&d.flags){for(;x<16;){if(F===0)break e;F--,S+=I[N++]<<x,x+=8}d.length=S,d.head&&(d.head.extra_len=S),512&d.flags&&(H[0]=255&S,H[1]=S>>>8&255,d.check=l(d.check,H,2,0)),S=0,x=0}else d.head&&(d.head.extra=null);d.mode=he;case he:if(1024&d.flags&&((D=d.length)>F&&(D=F),D&&(d.head&&(K=d.head.extra_len-d.length,d.head.extra||(d.head.extra=new Array(d.head.extra_len)),u.arraySet(d.head.extra,I,N,D,K)),512&d.flags&&(d.check=l(d.check,I,D,N)),F-=D,N+=D,d.length-=D),d.length))break e;d.length=0,d.mode=re;case re:if(2048&d.flags){if(F===0)break e;D=0;do K=I[N+D++],d.head&&K&&d.length<65536&&(d.head.name+=String.fromCharCode(K));while(K&&D<F);if(512&d.flags&&(d.check=l(d.check,I,D,N)),F-=D,N+=D,K)break e}else d.head&&(d.head.name=null);d.length=0,d.mode=ue;case ue:if(4096&d.flags){if(F===0)break e;D=0;do K=I[N+D++],d.head&&K&&d.length<65536&&(d.head.comment+=String.fromCharCode(K));while(K&&D<F);if(512&d.flags&&(d.check=l(d.check,I,D,N)),F-=D,N+=D,K)break e}else d.head&&(d.head.comment=null);d.mode=le;case le:if(512&d.flags){for(;x<16;){if(F===0)break e;F--,S+=I[N++]<<x,x+=8}if(S!==(65535&d.check)){_.msg="header crc mismatch",d.mode=U;break}S=0,x=0}d.head&&(d.head.hcrc=d.flags>>9&1,d.head.done=!0),_.adler=d.check=0,d.mode=se;break;case de:for(;x<32;){if(F===0)break e;F--,S+=I[N++]<<x,x+=8}_.adler=d.check=f(S),S=0,x=0,d.mode=ce;case ce:if(d.havedict===0)return _.next_out=te,_.avail_out=$,_.next_in=N,_.avail_in=F,d.hold=S,d.bits=x,B;_.adler=d.check=1,d.mode=se;case se:if(E===j||E===A)break e;case _e:if(d.last){S>>>=7&x,x-=7&x,d.mode=ke;break}for(;x<3;){if(F===0)break e;F--,S+=I[N++]<<x,x+=8}switch(d.last=1&S,x-=1,3&(S>>>=1)){case 0:d.mode=Ae;break;case 1:if(n(d),d.mode=pe,E===A){S>>>=2,x-=2;break e}break;case 2:d.mode=je;break;case 3:_.msg="invalid block type",d.mode=U}S>>>=2,x-=2;break;case Ae:for(S>>>=7&x,x-=7&x;x<32;){if(F===0)break e;F--,S+=I[N++]<<x,x+=8}if((65535&S)!=(S>>>16^65535)){_.msg="invalid stored block lengths",d.mode=U;break}if(d.length=65535&S,S=0,x=0,d.mode=we,E===A)break e;case we:d.mode=Se;case Se:if(D=d.length){if(D>F&&(D=F),D>$&&(D=$),D===0)break e;u.arraySet(V,I,N,D,te),F-=D,N+=D,$-=D,te+=D,d.length-=D;break}d.mode=se;break;case je:for(;x<14;){if(F===0)break e;F--,S+=I[N++]<<x,x+=8}if(d.nlen=257+(31&S),S>>>=5,x-=5,d.ndist=1+(31&S),S>>>=5,x-=5,d.ncode=4+(15&S),S>>>=4,x-=4,d.nlen>286||d.ndist>30){_.msg="too many length or distance symbols",d.mode=U;break}d.have=0,d.mode=Te;case Te:for(;d.have<d.ncode;){for(;x<3;){if(F===0)break e;F--,S+=I[N++]<<x,x+=8}d.lens[Me[d.have++]]=7&S,S>>>=3,x-=3}for(;d.have<19;)d.lens[Me[d.have++]]=0;if(d.lencode=d.lendyn,d.lenbits=7,ae={bits:d.lenbits},ne=g(v,d.lens,0,19,d.lencode,0,d.work,ae),d.lenbits=ae.bits,ne){_.msg="invalid code lengths set",d.mode=U;break}d.have=0,d.mode=Ee;case Ee:for(;d.have<d.nlen+d.ndist;){for(;W=(G=d.lencode[S&(1<<d.lenbits)-1])>>>16&255,X=65535&G,!((Z=G>>>24)<=x);){if(F===0)break e;F--,S+=I[N++]<<x,x+=8}if(X<16)S>>>=Z,x-=Z,d.lens[d.have++]=X;else{if(X===16){for(ie=Z+2;x<ie;){if(F===0)break e;F--,S+=I[N++]<<x,x+=8}if(S>>>=Z,x-=Z,d.have===0){_.msg="invalid bit length repeat",d.mode=U;break}K=d.lens[d.have-1],D=3+(3&S),S>>>=2,x-=2}else if(X===17){for(ie=Z+3;x<ie;){if(F===0)break e;F--,S+=I[N++]<<x,x+=8}x-=Z,K=0,D=3+(7&(S>>>=Z)),S>>>=3,x-=3}else{for(ie=Z+7;x<ie;){if(F===0)break e;F--,S+=I[N++]<<x,x+=8}x-=Z,K=0,D=11+(127&(S>>>=Z)),S>>>=7,x-=7}if(d.have+D>d.nlen+d.ndist){_.msg="invalid bit length repeat",d.mode=U;break}for(;D--;)d.lens[d.have++]=K}}if(d.mode===U)break;if(d.lens[256]===0){_.msg="invalid code -- missing end-of-block",d.mode=U;break}if(d.lenbits=9,ae={bits:d.lenbits},ne=g(k,d.lens,0,d.nlen,d.lencode,0,d.work,ae),d.lenbits=ae.bits,ne){_.msg="invalid literal/lengths set",d.mode=U;break}if(d.distbits=6,d.distcode=d.distdyn,ae={bits:d.distbits},ne=g(m,d.lens,d.nlen,d.ndist,d.distcode,0,d.work,ae),d.distbits=ae.bits,ne){_.msg="invalid distances set",d.mode=U;break}if(d.mode=pe,E===A)break e;case pe:d.mode=ye;case ye:if(F>=6&&$>=258){_.next_out=te,_.avail_out=$,_.next_in=N,_.avail_in=F,d.hold=S,d.bits=x,p(_,q),te=_.next_out,V=_.output,$=_.avail_out,N=_.next_in,I=_.input,F=_.avail_in,S=d.hold,x=d.bits,d.mode===se&&(d.back=-1);break}for(d.back=0;W=(G=d.lencode[S&(1<<d.lenbits)-1])>>>16&255,X=65535&G,!((Z=G>>>24)<=x);){if(F===0)break e;F--,S+=I[N++]<<x,x+=8}if(W&&!(240&W)){for(Y=Z,ge=W,be=X;W=(G=d.lencode[be+((S&(1<<Y+ge)-1)>>Y)])>>>16&255,X=65535&G,!(Y+(Z=G>>>24)<=x);){if(F===0)break e;F--,S+=I[N++]<<x,x+=8}S>>>=Y,x-=Y,d.back+=Y}if(S>>>=Z,x-=Z,d.back+=Z,d.length=X,W===0){d.mode=Ie;break}if(32&W){d.back=-1,d.mode=se;break}if(64&W){_.msg="invalid literal/length code",d.mode=U;break}d.extra=15&W,d.mode=Ne;case Ne:if(d.extra){for(ie=d.extra;x<ie;){if(F===0)break e;F--,S+=I[N++]<<x,x+=8}d.length+=S&(1<<d.extra)-1,S>>>=d.extra,x-=d.extra,d.back+=d.extra}d.was=d.length,d.mode=Fe;case Fe:for(;W=(G=d.distcode[S&(1<<d.distbits)-1])>>>16&255,X=65535&G,!((Z=G>>>24)<=x);){if(F===0)break e;F--,S+=I[N++]<<x,x+=8}if(!(240&W)){for(Y=Z,ge=W,be=X;W=(G=d.distcode[be+((S&(1<<Y+ge)-1)>>Y)])>>>16&255,X=65535&G,!(Y+(Z=G>>>24)<=x);){if(F===0)break e;F--,S+=I[N++]<<x,x+=8}S>>>=Y,x-=Y,d.back+=Y}if(S>>>=Z,x-=Z,d.back+=Z,64&W){_.msg="invalid distance code",d.mode=U;break}d.offset=X,d.extra=15&W,d.mode=Ce;case Ce:if(d.extra){for(ie=d.extra;x<ie;){if(F===0)break e;F--,S+=I[N++]<<x,x+=8}d.offset+=S&(1<<d.extra)-1,S>>>=d.extra,x-=d.extra,d.back+=d.extra}if(d.offset>d.dmax){_.msg="invalid distance too far back",d.mode=U;break}d.mode=Be;case Be:if($===0)break e;if(D=q-$,d.offset>D){if((D=d.offset-D)>d.whave&&d.sane){_.msg="invalid distance too far back",d.mode=U;break}D>d.wnext?(D-=d.wnext,ve=d.wsize-D):ve=d.wnext-D,D>d.length&&(D=d.length),Oe=d.window}else Oe=V,ve=te-d.offset,D=d.length;D>$&&(D=$),$-=D,d.length-=D;do V[te++]=Oe[ve++];while(--D);d.length===0&&(d.mode=ye);break;case Ie:if($===0)break e;V[te++]=d.length,$--,d.mode=ye;break;case ke:if(d.wrap){for(;x<32;){if(F===0)break e;F--,S|=I[N++]<<x,x+=8}if(q-=$,_.total_out+=q,d.total+=q,q&&(_.adler=d.check=d.flags?l(d.check,V,q,te-q):o(d.check,V,q,te-q)),q=$,(d.flags?S:f(S))!==d.check){_.msg="incorrect data check",d.mode=U;break}S=0,x=0}d.mode=Pe;case Pe:if(d.wrap&&d.flags){for(;x<32;){if(F===0)break e;F--,S+=I[N++]<<x,x+=8}if(S!==(4294967295&d.total)){_.msg="incorrect length check",d.mode=U;break}S=0,x=0}d.mode=Re;case Re:ne=P;break e;case U:ne=M;break e;case xe:return C;case Le:default:return R}return _.next_out=te,_.avail_out=$,_.next_in=N,_.avail_in=F,d.hold=S,d.bits=x,(d.wsize||q!==_.avail_out&&d.mode<U&&(d.mode<ke||E!==O))&&e(_,_.output,_.next_out,q-_.avail_out)?(d.mode=xe,C):(me-=_.avail_in,q-=_.avail_out,_.total_in+=me,_.total_out+=q,d.total+=q,d.wrap&&q&&(_.adler=d.check=d.flags?l(d.check,V,q,_.next_out-q):o(d.check,V,q,_.next_out-q)),_.data_type=d.bits+(d.last?64:0)+(d.mode===se?128:0)+(d.mode===pe||d.mode===we?256:0),(me===0&&q===0||E===O)&&ne===T&&(ne=L),ne)},b.inflateEnd=function(_){if(!_||!_.state)return R;var E=_.state;return E.window&&(E.window=null),_.state=null,T},b.inflateGetHeader=function(_,E){var d;return _&&_.state&&2&(d=_.state).wrap?(d.head=E,E.done=!1,T):R},b.inflateSetDictionary=function(_,E){var d,I=E.length;return _&&_.state?(d=_.state).wrap!==0&&d.mode!==ce?R:d.mode===ce&&o(1,E,I,0)!==d.check?M:e(_,E,I,I)?(d.mode=xe,C):(d.havedict=1,T):R},b.inflateInfo="pako inflate (from Nodeca project)"},function(w,b,y){w.exports=function(f,c,h,a){for(var s=65535&f|0,t=f>>>16&65535|0,n=0;h!==0;){h-=n=h>2e3?2e3:h;do t=t+(s=s+c[a++]|0)|0;while(--n);s%=65521,t%=65521}return s|t<<16|0}},function(w,b,y){var f=function(){for(var c,h=[],a=0;a<256;a++){c=a;for(var s=0;s<8;s++)c=1&c?3988292384^c>>>1:c>>>1;h[a]=c}return h}();w.exports=function(c,h,a,s){var t=f,n=s+a;c^=-1;for(var e=s;e<n;e++)c=c>>>8^t[255&(c^h[e])];return-1^c}},function(w,b,y){w.exports=function(f,c){var h,a,s,t,n,e,i,r,u,o,l,p,g,v,k,m,O,j,A,T,P,B,R,M,C;h=f.state,a=f.next_in,M=f.input,s=a+(f.avail_in-5),t=f.next_out,C=f.output,n=t-(c-f.avail_out),e=t+(f.avail_out-257),i=h.dmax,r=h.wsize,u=h.whave,o=h.wnext,l=h.window,p=h.hold,g=h.bits,v=h.lencode,k=h.distcode,m=(1<<h.lenbits)-1,O=(1<<h.distbits)-1;e:do{g<15&&(p+=M[a++]<<g,g+=8,p+=M[a++]<<g,g+=8),j=v[p&m];t:for(;;){if(p>>>=A=j>>>24,g-=A,(A=j>>>16&255)==0)C[t++]=65535&j;else{if(!(16&A)){if(!(64&A)){j=v[(65535&j)+(p&(1<<A)-1)];continue t}if(32&A){h.mode=12;break e}f.msg="invalid literal/length code",h.mode=30;break e}T=65535&j,(A&=15)&&(g<A&&(p+=M[a++]<<g,g+=8),T+=p&(1<<A)-1,p>>>=A,g-=A),g<15&&(p+=M[a++]<<g,g+=8,p+=M[a++]<<g,g+=8),j=k[p&O];n:for(;;){if(p>>>=A=j>>>24,g-=A,!(16&(A=j>>>16&255))){if(!(64&A)){j=k[(65535&j)+(p&(1<<A)-1)];continue n}f.msg="invalid distance code",h.mode=30;break e}if(P=65535&j,g<(A&=15)&&(p+=M[a++]<<g,(g+=8)<A&&(p+=M[a++]<<g,g+=8)),(P+=p&(1<<A)-1)>i){f.msg="invalid distance too far back",h.mode=30;break e}if(p>>>=A,g-=A,P>(A=t-n)){if((A=P-A)>u&&h.sane){f.msg="invalid distance too far back",h.mode=30;break e}if(B=0,R=l,o===0){if(B+=r-A,A<T){T-=A;do C[t++]=l[B++];while(--A);B=t-P,R=C}}else if(o<A){if(B+=r+o-A,(A-=o)<T){T-=A;do C[t++]=l[B++];while(--A);if(B=0,o<T){T-=A=o;do C[t++]=l[B++];while(--A);B=t-P,R=C}}}else if(B+=o-A,A<T){T-=A;do C[t++]=l[B++];while(--A);B=t-P,R=C}for(;T>2;)C[t++]=R[B++],C[t++]=R[B++],C[t++]=R[B++],T-=3;T&&(C[t++]=R[B++],T>1&&(C[t++]=R[B++]))}else{B=t-P;do C[t++]=C[B++],C[t++]=C[B++],C[t++]=C[B++],T-=3;while(T>2);T&&(C[t++]=C[B++],T>1&&(C[t++]=C[B++]))}break}}break}}while(a<s&&t<e);a-=T=g>>3,p&=(1<<(g-=T<<3))-1,f.next_in=a,f.next_out=t,f.avail_in=a<s?s-a+5:5-(a-s),f.avail_out=t<e?e-t+257:257-(t-e),h.hold=p,h.bits=g}},function(w,b,y){var f=y(8),c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];w.exports=function(t,n,e,i,r,u,o,l){var p,g,v,k,m,O,j,A,T,P=l.bits,B=0,R=0,M=0,C=0,L=0,z=0,J=0,ee=0,oe=0,Q=0,fe=null,he=0,re=new f.Buf16(16),ue=new f.Buf16(16),le=null,de=0;for(B=0;B<=15;B++)re[B]=0;for(R=0;R<i;R++)re[n[e+R]]++;for(L=P,C=15;C>=1&&re[C]===0;C--);if(L>C&&(L=C),C===0)return r[u++]=20971520,r[u++]=20971520,l.bits=1,0;for(M=1;M<C&&re[M]===0;M++);for(L<M&&(L=M),ee=1,B=1;B<=15;B++)if(ee<<=1,(ee-=re[B])<0)return-1;if(ee>0&&(t===0||C!==1))return-1;for(ue[1]=0,B=1;B<15;B++)ue[B+1]=ue[B]+re[B];for(R=0;R<i;R++)n[e+R]!==0&&(o[ue[n[e+R]]++]=R);if(t===0?(fe=le=o,O=19):t===1?(fe=c,he-=257,le=h,de-=257,O=256):(fe=a,le=s,O=-1),Q=0,R=0,B=M,m=u,z=L,J=0,v=-1,k=(oe=1<<L)-1,t===1&&oe>852||t===2&&oe>592)return 1;for(;;){j=B-J,o[R]<O?(A=0,T=o[R]):o[R]>O?(A=le[de+o[R]],T=fe[he+o[R]]):(A=96,T=0),p=1<<B-J,M=g=1<<z;do r[m+(Q>>J)+(g-=p)]=j<<24|A<<16|T|0;while(g!==0);for(p=1<<B-1;Q&p;)p>>=1;if(p!==0?(Q&=p-1,Q+=p):Q=0,R++,--re[B]==0){if(B===C)break;B=n[e+o[R]]}if(B>L&&(Q&k)!==v){for(J===0&&(J=L),m+=M,ee=1<<(z=B-J);z+J<C&&!((ee-=re[z+J])<=0);)z++,ee<<=1;if(oe+=1<<z,t===1&&oe>852||t===2&&oe>592)return 1;r[v=Q&k]=L<<24|z<<16|m-u|0}}return Q!==0&&(r[m+Q]=B-J<<24|64<<16|0),l.bits=L,0}},function(w,b,y){function f(n,e){if(e<65534&&(n.subarray&&a||!n.subarray&&h))return String.fromCharCode.apply(null,c.shrinkBuf(n,e));for(var i="",r=0;r<e;r++)i+=String.fromCharCode(n[r]);return i}var c=y(8),h=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{h=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var s=new c.Buf8(256),t=0;t<256;t++)s[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;s[254]=s[254]=1,b.string2buf=function(n){var e,i,r,u,o,l=n.length,p=0;for(u=0;u<l;u++)(64512&(i=n.charCodeAt(u)))==55296&&u+1<l&&(64512&(r=n.charCodeAt(u+1)))==56320&&(i=65536+(i-55296<<10)+(r-56320),u++),p+=i<128?1:i<2048?2:i<65536?3:4;for(e=new c.Buf8(p),o=0,u=0;o<p;u++)(64512&(i=n.charCodeAt(u)))==55296&&u+1<l&&(64512&(r=n.charCodeAt(u+1)))==56320&&(i=65536+(i-55296<<10)+(r-56320),u++),i<128?e[o++]=i:i<2048?(e[o++]=192|i>>>6,e[o++]=128|63&i):i<65536?(e[o++]=224|i>>>12,e[o++]=128|i>>>6&63,e[o++]=128|63&i):(e[o++]=240|i>>>18,e[o++]=128|i>>>12&63,e[o++]=128|i>>>6&63,e[o++]=128|63&i);return e},b.buf2binstring=function(n){return f(n,n.length)},b.binstring2buf=function(n){for(var e=new c.Buf8(n.length),i=0,r=e.length;i<r;i++)e[i]=n.charCodeAt(i);return e},b.buf2string=function(n,e){var i,r,u,o,l=e||n.length,p=new Array(2*l);for(r=0,i=0;i<l;)if((u=n[i++])<128)p[r++]=u;else if((o=s[u])>4)p[r++]=65533,i+=o-1;else{for(u&=o===2?31:o===3?15:7;o>1&&i<l;)u=u<<6|63&n[i++],o--;o>1?p[r++]=65533:u<65536?p[r++]=u:(u-=65536,p[r++]=55296|u>>10&1023,p[r++]=56320|1023&u)}return f(p,r)},b.utf8border=function(n,e){var i;for((e=e||n.length)>n.length&&(e=n.length),i=e-1;i>=0&&(192&n[i])==128;)i--;return i<0||i===0?e:i+s[n[i]]>e?i:e}},function(w,b,y){w.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(w,b,y){w.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(w,b,y){w.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(w,b,y){w.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(w,b,y){w.exports=function(f){function c(a){if(h[a])return h[a].exports;var s=h[a]={i:a,l:!1,exports:{}};return f[a].call(s.exports,s,s.exports,c),s.l=!0,s.exports}var h={};return c.m=f,c.c=h,c.d=function(a,s,t){c.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:t})},c.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return c.d(s,"a",s),s},c.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},c.p="",c(c.s=0)}([function(f,c,h){Object.defineProperty(c,"__esModule",{value:!0});var a=h(1);f.exports=a.ValueAnimator},function(f,c,h){Object.defineProperty(c,"__esModule",{value:!0});var a=function(){function s(){this.startValue=0,this.endValue=0,this.duration=0,this.loops=1,this.fillRule=0,this.onStart=function(){},this.onUpdate=function(){},this.onEnd=function(){},this.mRunning=!1,this.mStartTime=0,this.mCurrentFrication=0,this.mReverse=!1}return s.prototype.start=function(t){t===void 0&&(t=void 0),this.doStart(!1,t)},s.prototype.reverse=function(t){t===void 0&&(t=void 0),this.doStart(!0,t)},s.prototype.stop=function(){this.doStop()},Object.defineProperty(s.prototype,"animatedValue",{get:function(){return(this.endValue-this.startValue)*this.mCurrentFrication+this.startValue},enumerable:!0,configurable:!0}),s.prototype.doStart=function(t,n){t===void 0&&(t=!1),n===void 0&&(n=void 0),this.mReverse=t,this.mRunning=!0,this.mStartTime=s.currentTimeMillsecond(),n&&(this.mStartTime-=t?(1-n/(this.endValue-this.startValue))*this.duration:n/(this.endValue-this.startValue)*this.duration),this.mCurrentFrication=0,this.onStart(),this.doFrame()},s.prototype.doStop=function(){this.mRunning=!1},s.prototype.doFrame=function(){this.mRunning&&(this.doDeltaTime(s.currentTimeMillsecond()-this.mStartTime),this.mRunning&&s.requestAnimationFrame(this.doFrame.bind(this)))},s.prototype.doDeltaTime=function(t){t>=this.duration*this.loops?(this.mCurrentFrication=this.fillRule===1?0:1,this.mRunning=!1):(this.mCurrentFrication=t%this.duration/this.duration,this.mReverse&&(this.mCurrentFrication=1-this.mCurrentFrication)),this.onUpdate(this.animatedValue),this.mRunning===!1&&this.onEnd()},s.currentTimeMillsecond=function(){return typeof performance>"u"?new Date().getTime():performance.now()},s.requestAnimationFrame=function(t){return typeof requestAnimationFrame>"u"?setTimeout(t,16):window.requestAnimationFrame(t)},s}();c.ValueAnimator=a}])},function(w,b,y){Object.defineProperty(b,"__esModule",{value:!0}),b.Player=void 0;var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},c=function(){function s(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,e){return n&&s(t.prototype,n),e&&s(t,e),t}}(),h=y(65),a=y(62);b.Player=function(){function s(t){(function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,s),this.loops=0,this.clearsAfterStop=!0,this.fillMode="Forward",this._asChild=!1,this._container=void 0,this._renderer=void 0,this._animator=void 0,this._drawingCanvas=void 0,this._contentMode="AspectFit",this._videoItem=void 0,this._forwardAnimating=!1,this._currentFrame=0,this._dynamicImage={},this._dynamicImageTransform={},this._dynamicText={},this._onFinished=void 0,this._onFrame=void 0,this._onPercentage=void 0,this._container=typeof t=="string"?document.querySelector(t):t,this._asChild=t===void 0,this._init()}return c(s,[{key:"setVideoItem",value:function(t){this._currentFrame=0,this._videoItem=t,this._renderer.prepare(),this.clear(),this._update()}},{key:"setContentMode",value:function(t){this._contentMode=t,this._update()}},{key:"setClipsToBounds",value:function(t){this._container instanceof HTMLDivElement&&(this._container.style.overflowX=this._container.style.overflowY=t?"hidden":void 0)}},{key:"startAnimation",value:function(t){this.stopAnimation(!1),this._doStart(void 0,t,void 0)}},{key:"startAnimationWithRange",value:function(t,n){this.stopAnimation(!1),this._doStart(t,n,void 0)}},{key:"pauseAnimation",value:function(){this.stopAnimation(!1)}},{key:"stopAnimation",value:function(t){this._forwardAnimating=!1,this._animator!==void 0&&this._animator.stop(),t===void 0&&(t=this.clearsAfterStop),t&&this.clear()}},{key:"clear",value:function(){this._renderer.clear(),this._renderer.clearAudios()}},{key:"stepToFrame",value:function(t,n){t>=this._videoItem.frames||t<0||(this.pauseAnimation(),this._currentFrame=t,this._update(),n&&this._doStart(void 0,!1,this._currentFrame))}},{key:"stepToPercentage",value:function(t,n){var e=parseInt(t*this._videoItem.frames);e>=this._videoItem.frames&&e>0&&(e=this._videoItem.frames-1),this.stepToFrame(e,n)}},{key:"setImage",value:function(t,n,e){this._dynamicImage[n]=t,e!==void 0&&e instanceof Array&&e.length==6&&(this._dynamicImageTransform[n]=e)}},{key:"setText",value:function(t,n){var e=typeof t=="string"?t:t.text,i=((t===void 0?"undefined":f(t))==="object"?t.size:"14px")||"14px",r=((t===void 0?"undefined":f(t))==="object"?t.family:"Arial")||"Arial",u=((t===void 0?"undefined":f(t))==="object"?t.color:"#000000")||"#000000",o=((t===void 0?"undefined":f(t))==="object"?t.offset:{x:0,y:0})||{x:0,y:0};this._dynamicText[n]={text:e,style:i+" "+r,color:u,offset:o}}},{key:"clearDynamicObjects",value:function(){this._dynamicImage={},this._dynamicImageTransform={},this._dynamicText={}}},{key:"onFinished",value:function(t){this._onFinished=t}},{key:"onFrame",value:function(t){this._onFrame=t}},{key:"onPercentage",value:function(t){this._onPercentage=t}},{key:"drawOnContext",value:function(t,n,e,i,r){this._drawingCanvas&&this._videoItem&&t.drawImage(this._drawingCanvas,n,e,i||this._videoItem.videoSize.width,r||this._videoItem.videoSize.height)}},{key:"_init",value:function(){if(this._container instanceof HTMLDivElement||this._asChild){if(this._container)for(var t=this._container.querySelectorAll("canvas"),n=0;n<t.length;n++){var e=t[n];e!==void 0&&e.__isPlayer&&this._container.removeChild(e)}this._drawingCanvas=document.createElement("canvas"),this._drawingCanvas.__isPlayer=!0,this._drawingCanvas.style.backgroundColor="transparent",this._container&&(this._container.appendChild(this._drawingCanvas),this._container.style.textAlign="left")}this._renderer=new h.Renderer(this)}},{key:"_doStart",value:function(t,n,e){var i=this;this._animator=new a,t!==void 0?(this._animator.startValue=Math.max(0,t.location),this._animator.endValue=Math.min(this._videoItem.frames-1,t.location+t.length),this._animator.duration=(this._animator.endValue-this._animator.startValue+1)*(1/this._videoItem.FPS)*1e3):(this._animator.startValue=0,this._animator.endValue=this._videoItem.frames-1,this._animator.duration=this._videoItem.frames*(1/this._videoItem.FPS)*1e3),this._animator.loops=this.loops<=0?1/0:this.loops,this._animator.fillRule=this.fillMode==="Backward"?1:0,this._animator.onUpdate=function(r){i._currentFrame!==Math.floor(r)&&(i._forwardAnimating&&i._currentFrame>Math.floor(r)&&i._renderer.clearAudios(),i._currentFrame=Math.floor(r),i._update(),typeof i._onFrame=="function"&&i._onFrame(i._currentFrame),typeof i._onPercentage=="function"&&i._onPercentage(parseFloat(i._currentFrame+1)/parseFloat(i._videoItem.frames)))},this._animator.onEnd=function(){i._forwardAnimating=!1,i.clearsAfterStop===!0&&i.clear(),typeof i._onFinished=="function"&&i._onFinished()},n===!0?(this._animator.reverse(e),this._forwardAnimating=!1):(this._animator.start(e),this._forwardAnimating=!0),this._currentFrame=this._animator.startValue,this._update()}},{key:"_resize",value:function(){var t=!1;if(this._drawingCanvas){var n;n=this._drawingCanvas.parentNode?{width:this._drawingCanvas.parentNode.clientWidth,height:this._drawingCanvas.parentNode.clientHeight}:this._videoItem.videoSize;var e=this._videoItem.videoSize;if(n.width>=e.width&&n.height>=e.height)this._drawingCanvas.width=n.width,this._drawingCanvas.height=n.height,this._drawingCanvas.style.webkitTransform=this._drawingCanvas.style.transform="",t=!0;else{if(this._drawingCanvas.width=e.width,this._drawingCanvas.height=e.height,this._contentMode==="Fill"){var i=n.width/e.width,r=n.height/e.height,u=(e.width*i-e.width)/2,o=(e.height*r-e.height)/2;this._drawingCanvas.style.webkitTransform=this._drawingCanvas.style.transform="matrix("+i+", 0.0, 0.0, "+r+", "+u+", "+o+")"}else if(this._contentMode==="AspectFit"||this._contentMode==="AspectFill"){var l=e.width/e.height,p=n.width/n.height;if(l>=p&&this._contentMode==="AspectFit"||l<=p&&this._contentMode==="AspectFill"){var g=n.width/e.width,v=(e.width*g-e.width)/2,k=(e.height*g-e.height)/2+(n.height-e.height*g)/2;this._drawingCanvas.style.webkitTransform=this._drawingCanvas.style.transform="matrix("+g+", 0.0, 0.0, "+g+", "+v+", "+k+")"}else if(l<p&&this._contentMode==="AspectFit"||l>p&&this._contentMode==="AspectFill"){var m=n.height/e.height,O=(e.width*m-e.width)/2+(n.width-e.width*m)/2,j=(e.height*m-e.height)/2;this._drawingCanvas.style.webkitTransform=this._drawingCanvas.style.transform="matrix("+m+", 0.0, 0.0, "+m+", "+O+", "+j+")"}}this._globalTransform=void 0}}if(this._drawingCanvas===void 0||t===!0){var A=1,T=1,P=0,B=0,R={width:this._container!==void 0?this._container.clientWidth:0,height:this._container!==void 0?this._container.clientHeight:0},M=this._videoItem.videoSize;if(this._contentMode==="Fill")A=R.width/M.width,T=R.height/M.height;else if(this._contentMode==="AspectFit"||this._contentMode==="AspectFill"){var C=M.width/M.height,L=R.width/R.height;C>=L&&this._contentMode==="AspectFit"||C<=L&&this._contentMode==="AspectFill"?(A=T=R.width/M.width,B=(R.height-M.height*T)/2):(C<L&&this._contentMode==="AspectFit"||C>L&&this._contentMode==="AspectFill")&&(A=T=R.height/M.height,P=(R.width-M.width*A)/2)}this._globalTransform={a:A,b:0,c:0,d:T,tx:P,ty:B}}}},{key:"_update",value:function(){this._videoItem!==void 0&&(this._resize(),this._renderer.drawFrame(this._currentFrame),this._renderer.playAudio(this._currentFrame))}}]),s}()},function(w,b,y){var f=y(13),c=y(63),h=y(66);w.exports={Parser:f.Parser,Player:c.Player,autoload:h.AutoLoader.autoload},h.AutoLoader.autoload()},function(w,b,y){Object.defineProperty(b,"__esModule",{value:!0}),b.Renderer=void 0;var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=function(){function t(n,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),h=y(5),a=y(15),s=y(14);b.Renderer=function(){function t(n){(function(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),this._owner=void 0,this._prepared=!1,this._undrawFrame=void 0,this._bitmapCache=void 0,this._soundsQueue=[],this._owner=n}return c(t,[{key:"dataURLtoBlob",value:function(n){for(var e=n.split(","),i=e[0].match(/:(.*?);/)[1],r=atob(e[1]),u=r.length,o=new Uint8Array(u);u--;)o[u]=r.charCodeAt(u);return new Blob([o],{type:i})}},{key:"prepare",value:function(){var n,e,i=this;if(this._prepared=!1,this._bitmapCache=void 0,this._owner._videoItem.images===void 0||Object.keys(this._owner._videoItem.images).length==0)return this._bitmapCache={},void(this._prepared=!0);this._bitmapCache===void 0&&function(){i._bitmapCache={};var r=0,u=0;for(n in i._owner._videoItem.images){var o=i._owner._videoItem.images[n];if(o.indexOf("iVBO")===0||o.indexOf("/9j/2w")===0){r++;var l=document.createElement("img");l.onload=(function(){++u==r&&(this._prepared=!0,typeof this._undrawFrame=="number"&&(this.drawFrame(this._undrawFrame),this._undrawFrame=void 0))}).bind(i),l.src="data:image/png;base64,"+o;var p=n.replace(".matte","");i._bitmapCache[p]=l}else o.indexOf("SUQz")===0&&window.Howl!==void 0&&(r++,(e=new Howl({src:[navigator.vendor==="Google Inc."?URL.createObjectURL(i.dataURLtoBlob("data:audio/x-mpeg;base64,"+o)):"data:audio/x-mpeg;base64,"+o],html5:navigator.vendor==="Google Inc."||void 0,preload:navigator.vendor==="Google Inc."||void 0,format:navigator.vendor==="Google Inc."?["mp3"]:void 0})).once("load",(function(){++u==r&&(this._prepared=!0,typeof this._undrawFrame=="number"&&(this.drawFrame(this._undrawFrame),this._undrawFrame=void 0))}).bind(i)),e.on("loaderror",function(g){console.error(g)}),i._bitmapCache[n]=e)}}()}},{key:"clear",value:function(){var n=(this._owner._drawingCanvas||this._owner._container).getContext("2d"),e={x:0,y:0,width:(this._owner._drawingCanvas||this._owner._container).width,height:(this._owner._drawingCanvas||this._owner._container).height};n.clearRect(e.x,e.y,e.width,e.height)}},{key:"clearAudios",value:function(){this._soundsQueue.forEach(function(n){n.player.stop(n.playID)}),this._soundsQueue=[]}},{key:"drawFrame",value:function(n){var e=this;if(this._prepared){var i=(this._owner._drawingCanvas||this._owner._container).getContext("2d"),r={x:0,y:0,width:(this._owner._drawingCanvas||this._owner._container).width,height:(this._owner._drawingCanvas||this._owner._container).height};i.clearRect(r.x,r.y,r.width,r.height);var u=new Map,o=!1,l=this._owner._videoItem.sprites;l.forEach(function(p,g){if(l[0].imageKey.indexOf(".matte")!=-1)if(p.imageKey.indexOf(".matte")==-1){var v=l[g-1];if(o&&(p.matteKey==null||p.matteKey.length==0||p.matteKey!=v.matteKey)){o=!1;var k=u.get(p.matteKey);i.globalCompositeOperation="destination-in",e.drawSprite(k,i,n),i.globalCompositeOperation="source-over",i.restore()}p.matteKey==null||v.matteKey!=null&&v.matteKey.length!=0&&v.matteKey==p.matteKey||(o=!0,i.save()),e.drawSprite(p,i,n),o&&g==l.length-1&&(k=u.get(p.matteKey),i.globalCompositeOperation="destination-in",e.drawSprite(k,i,n),i.globalCompositeOperation="source-over",i.restore())}else u.set(p.imageKey,p);else e.drawSprite(p,i,n)})}else this._undrawFrame=n}},{key:"drawSprite",value:function(n,e,i){var r=this,u=n.frames[this._owner._currentFrame];if(!(u.alpha<.05)){e.save(),this._owner._globalTransform&&e.transform(this._owner._globalTransform.a,this._owner._globalTransform.b,this._owner._globalTransform.c,this._owner._globalTransform.d,this._owner._globalTransform.tx,this._owner._globalTransform.ty),e.globalAlpha=u.alpha,e.transform(u.transform.a,u.transform.b,u.transform.c,u.transform.d,u.transform.tx,u.transform.ty);var o=n.imageKey.replace(".matte",""),l=this._owner._dynamicImage[o]||this._bitmapCache[o]||this._owner._videoItem.images[o];if(typeof l=="string"){var p=this._bitmapCache[n.imageKey]||document.createElement("img"),g=void 0,v=void 0;if(l.indexOf("iVBO")===0||l.indexOf("/9j/2w")===0?p.src="data:image/png;base64,"+l:(p._svgaSrc!==l&&(p._svgaSrc=l,p.src=l),g=u.layout.width,v=u.layout.height),this._bitmapCache[n.imageKey]=p,u.maskPath!==void 0&&u.maskPath!==null&&(this.drawBezier(e,u.maskPath),e.clip()),this._owner._dynamicImageTransform[n.imageKey]!==void 0){e.save();var k=this._owner._dynamicImageTransform[n.imageKey];e.transform(k[0],k[1],k[2],k[3],k[4],k[5])}g&&v?e.drawImage(p,0,0,g,v):e.drawImage(p,0,0),this._owner._dynamicImageTransform[n.imageKey]!==void 0&&e.restore()}else if((l===void 0?"undefined":f(l))==="object"){if(u.maskPath!==void 0&&u.maskPath!==null&&(u.maskPath._styles=void 0,this.drawBezier(e,u.maskPath),e.clip()),this._owner._dynamicImageTransform[n.imageKey]!==void 0){e.save();var m=this._owner._dynamicImageTransform[n.imageKey];e.transform(m[0],m[1],m[2],m[3],m[4],m[5])}e.drawImage(l,0,0),this._owner._dynamicImageTransform[n.imageKey]!==void 0&&e.restore()}u.shapes&&u.shapes.forEach(function(P){P.type==="shape"&&P.pathArgs&&P.pathArgs.d&&r.drawBezier(e,new h.BezierPath(P.pathArgs.d,P.transform,P.styles)),P.type==="ellipse"&&P.pathArgs&&r.drawEllipse(e,new a.EllipsePath(parseFloat(P.pathArgs.x)||0,parseFloat(P.pathArgs.y)||0,parseFloat(P.pathArgs.radiusX)||0,parseFloat(P.pathArgs.radiusY)||0,P.transform,P.styles)),P.type==="rect"&&P.pathArgs&&r.drawRect(e,new s.RectPath(parseFloat(P.pathArgs.x)||0,parseFloat(P.pathArgs.y)||0,parseFloat(P.pathArgs.width)||0,parseFloat(P.pathArgs.height)||0,parseFloat(P.pathArgs.cornerRadius)||0,P.transform,P.styles))});var O=this._owner._dynamicText[n.imageKey];if(O!==void 0){e.textBaseline="middle",e.font=O.style;var j=e.measureText(O.text).width;e.fillStyle=O.color;var A=O.offset!==void 0&&O.offset.x!==void 0?isNaN(parseFloat(O.offset.x))?0:parseFloat(O.offset.x):0,T=O.offset!==void 0&&O.offset.y!==void 0?isNaN(parseFloat(O.offset.y))?0:parseFloat(O.offset.y):0;e.fillText(O.text,(u.layout.width-j)/2+A,u.layout.height/2+T)}e.restore()}}},{key:"playAudio",value:function(n){var e=this;if(this._owner._forwardAnimating&&this._owner._videoItem.audios instanceof Array){this._owner._videoItem.audios.forEach(function(r){if(r.startFrame===n&&e._bitmapCache[r.audioKey]!==void 0&&typeof e._bitmapCache[r.audioKey].play=="function"){var u={playID:e._bitmapCache[r.audioKey].play(),player:e._bitmapCache[r.audioKey],endFrame:r.endFrame};u.player.seek(r.startTime/1e3,u.playID),e._soundsQueue.push(u)}});var i=!1;this._soundsQueue.forEach(function(r){n>=r.endFrame&&(i=!0,r.player.stop(r.playID))}),i&&(this._soundsQueue=this._soundsQueue.filter(function(r){return n<r.endFrame}))}}},{key:"resetShapeStyles",value:function(n,e){var i=e._styles;i!==void 0&&(i&&i.stroke?n.strokeStyle="rgba("+parseInt(255*i.stroke[0])+", "+parseInt(255*i.stroke[1])+", "+parseInt(255*i.stroke[2])+", "+i.stroke[3]+")":n.strokeStyle="transparent",i&&(n.lineWidth=i.strokeWidth||void 0,n.lineCap=i.lineCap||void 0,n.lineJoin=i.lineJoin||void 0,n.miterLimit=i.miterLimit||void 0),i&&i.fill?n.fillStyle="rgba("+parseInt(255*i.fill[0])+", "+parseInt(255*i.fill[1])+", "+parseInt(255*i.fill[2])+", "+i.fill[3]+")":n.fillStyle="transparent",i&&i.lineDash&&n.setLineDash(i.lineDash))}},{key:"drawBezier",value:function(n,e){var i=this;n.save(),this.resetShapeStyles(n,e),e._transform!==void 0&&e._transform!==null&&n.transform(e._transform.a,e._transform.b,e._transform.c,e._transform.d,e._transform.tx,e._transform.ty);var r={x:0,y:0,x1:0,y1:0,x2:0,y2:0};n.beginPath(),e._d.replace(/([a-zA-Z])/g,"|||$1 ").replace(/,/g," ").split("|||").forEach(function(u){if(u.length!=0){var o=u.substr(0,1);if("MLHVCSQRZmlhvcsqrz".indexOf(o)>=0){var l=u.substr(1).trim().split(" ");i.drawBezierElement(n,r,o,l)}}}),e._styles&&e._styles.fill&&n.fill(),e._styles&&e._styles.stroke&&n.stroke(),n.restore()}},{key:"drawBezierElement",value:function(n,e,i,r){switch(i){case"M":e.x=Number(r[0]),e.y=Number(r[1]),n.moveTo(e.x,e.y);break;case"m":e.x+=Number(r[0]),e.y+=Number(r[1]),n.moveTo(e.x,e.y);break;case"L":e.x=Number(r[0]),e.y=Number(r[1]),n.lineTo(e.x,e.y);break;case"l":e.x+=Number(r[0]),e.y+=Number(r[1]),n.lineTo(e.x,e.y);break;case"H":e.x=Number(r[0]),n.lineTo(e.x,e.y);break;case"h":e.x+=Number(r[0]),n.lineTo(e.x,e.y);break;case"V":e.y=Number(r[0]),n.lineTo(e.x,e.y);break;case"v":e.y+=Number(r[0]),n.lineTo(e.x,e.y);break;case"C":e.x1=Number(r[0]),e.y1=Number(r[1]),e.x2=Number(r[2]),e.y2=Number(r[3]),e.x=Number(r[4]),e.y=Number(r[5]),n.bezierCurveTo(e.x1,e.y1,e.x2,e.y2,e.x,e.y);break;case"c":e.x1=e.x+Number(r[0]),e.y1=e.y+Number(r[1]),e.x2=e.x+Number(r[2]),e.y2=e.y+Number(r[3]),e.x+=Number(r[4]),e.y+=Number(r[5]),n.bezierCurveTo(e.x1,e.y1,e.x2,e.y2,e.x,e.y);break;case"S":e.x1&&e.y1&&e.x2&&e.y2?(e.x1=e.x-e.x2+e.x,e.y1=e.y-e.y2+e.y,e.x2=Number(r[0]),e.y2=Number(r[1]),e.x=Number(r[2]),e.y=Number(r[3]),n.bezierCurveTo(e.x1,e.y1,e.x2,e.y2,e.x,e.y)):(e.x1=Number(r[0]),e.y1=Number(r[1]),e.x=Number(r[2]),e.y=Number(r[3]),n.quadraticCurveTo(e.x1,e.y1,e.x,e.y));break;case"s":e.x1&&e.y1&&e.x2&&e.y2?(e.x1=e.x-e.x2+e.x,e.y1=e.y-e.y2+e.y,e.x2=e.x+Number(r[0]),e.y2=e.y+Number(r[1]),e.x+=Number(r[2]),e.y+=Number(r[3]),n.bezierCurveTo(e.x1,e.y1,e.x2,e.y2,e.x,e.y)):(e.x1=e.x+Number(r[0]),e.y1=e.y+Number(r[1]),e.x+=Number(r[2]),e.y+=Number(r[3]),n.quadraticCurveTo(e.x1,e.y1,e.x,e.y));break;case"Q":e.x1=Number(r[0]),e.y1=Number(r[1]),e.x=Number(r[2]),e.y=Number(r[3]),n.quadraticCurveTo(e.x1,e.y1,e.x,e.y);break;case"q":e.x1=e.x+Number(r[0]),e.y1=e.y+Number(r[1]),e.x+=Number(r[2]),e.y+=Number(r[3]),n.quadraticCurveTo(e.x1,e.y1,e.x,e.y);break;case"A":case"a":break;case"Z":case"z":n.closePath()}}},{key:"drawEllipse",value:function(n,e){n.save(),this.resetShapeStyles(n,e),e._transform!==void 0&&e._transform!==null&&n.transform(e._transform.a,e._transform.b,e._transform.c,e._transform.d,e._transform.tx,e._transform.ty);var i=e._x-e._radiusX,r=e._y-e._radiusY,u=2*e._radiusX,o=2*e._radiusY,l=u/2*.5522848,p=o/2*.5522848,g=i+u,v=r+o,k=i+u/2,m=r+o/2;n.beginPath(),n.moveTo(i,m),n.bezierCurveTo(i,m-p,k-l,r,k,r),n.bezierCurveTo(k+l,r,g,m-p,g,m),n.bezierCurveTo(g,m+p,k+l,v,k,v),n.bezierCurveTo(k-l,v,i,m+p,i,m),e._styles&&e._styles.fill&&n.fill(),e._styles&&e._styles.stroke&&n.stroke(),n.restore()}},{key:"drawRect",value:function(n,e){n.save(),this.resetShapeStyles(n,e),e._transform!==void 0&&e._transform!==null&&n.transform(e._transform.a,e._transform.b,e._transform.c,e._transform.d,e._transform.tx,e._transform.ty);var i=e._x,r=e._y,u=e._width,o=e._height,l=e._cornerRadius;u<2*l&&(l=u/2),o<2*l&&(l=o/2),n.beginPath(),n.moveTo(i+l,r),n.arcTo(i+u,r,i+u,r+o,l),n.arcTo(i+u,r+o,i,r+o,l),n.arcTo(i,r+o,i,r,l),n.arcTo(i,r,i+u,r,l),n.closePath(),e._styles&&e._styles.fill&&n.fill(),e._styles&&e._styles.stroke&&n.stroke(),n.restore()}}]),t}()},function(w,b,y){Object.defineProperty(b,"__esModule",{value:!0}),b.AutoLoader=void 0;var f=y(13),c=y(63),h=b.AutoLoader=function a(){(function(s,t){if(!(s instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a)};h.sharedParser=new f.Parser,h.autoload=function(a,s){if(typeof window<"u"&&typeof document<"u"){var t=s||h.sharedParser;if(a){if((a.tagName==="CANVAS"||a.tagName==="DIV")&&a.attributes.src&&a.attributes.src.value.indexOf(".svga")===a.attributes.src.value.length-5){var n=a.attributes.src.value,e=new c.Player(a);t.load(n,function(u){if(a.attributes.loops){var o=parseFloat(a.attributes.loops.value)||0;e.loops=o}if(a.attributes.clearsAfterStop){var l=a.attributes.clearsAfterStop.value!=="false";e.clearsAfterStop=l}e.setVideoItem(u),e.startAnimation()}),a.player=e}}else for(var i=document.querySelectorAll('[src$=".svga"]'),r=0;r<i.length;r++)a=i[r],h.autoload(a)}}}])})}(svga_min)),svga_min.exports}export{getDefaultExportFromCjs as g,requireSvga_min as r};
